(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83753,e=>{"use strict";let t=(0,e.i(24929).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],83753)},93371,e=>{"use strict";let t=(0,e.i(24929).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],93371)},18509,e=>{"use strict";let t=(0,e.i(24929).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],18509)},80992,e=>{"use strict";let t=(0,e.i(24929).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],80992)},98434,e=>{"use strict";let t=(0,e.i(24929).default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);e.s(["Play",()=>t],98434)},16511,e=>{"use strict";let t=(0,e.i(24929).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],16511)},17278,e=>{"use strict";let t=(0,e.i(24929).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],17278)},77744,e=>{"use strict";let t=(0,e.i(24929).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],77744)},67307,e=>{"use strict";let t=(0,e.i(24929).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],67307)},78130,e=>{"use strict";let t=(0,e.i(24929).default)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]]);e.s(["Clock",()=>t],78130)},32500,e=>{"use strict";var t=e.i(27493),a=e.i(4),s=e.i(33149),i=e.i(87175),l=e.i(93371),n=e.i(77744),r=e.i(67307),c=e.i(83753),d=e.i(78130),o=e.i(18509),m=e.i(17278),h=e.i(80992),x=e.i(46444),u=e.i(24929);let p=(0,u.default)("bell-off",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]]),b=(0,u.default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var f=e.i(98434);let g=(0,u.default)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]);var y=e.i(16511),j=e.i(58322),w=e.i(85506),v=e.i(19238);let k={scheduled:{label:"Scheduled",color:"bg-blue-100 text-blue-700",icon:d.Clock},active:{label:"Active",color:"bg-amber-100 text-amber-700",icon:f.Play},completed:{label:"Completed",color:"bg-emerald-100 text-emerald-700",icon:c.CheckCircle},cancelled:{label:"Cancelled",color:"bg-slate-100 text-slate-500",icon:m.X}},N=[{key:"os_update",label:"OS Updates",title:"Operating System Updates",description:"Scheduled OS and security patch installation.\n\nDuring this window, machines will be restarted automatically. Please save your work before the maintenance begins."},{key:"hardware",label:"Hardware Upgrade",title:"Hardware Maintenance",description:"Physical hardware upgrade/replacement.\n\nAffected machines will be powered off during this window. Please expect full unavailability during this time."},{key:"network",label:"Network Maintenance",title:"Network Infrastructure Maintenance",description:"Network switches, routers, or firewall updates.\n\nAll monitored machines will show as offline briefly. This does not indicate a real issue — it is expected during the maintenance window."},{key:"backup",label:"Backup Window",title:"Scheduled Backup & Archive",description:"Full system backup and data archival.\n\nExpect reduced performance on affected machines during this time. Network throughput may be higher than normal."},{key:"custom",label:"Custom",title:"",description:""}];function C(e){return new Date(e).toLocaleString(void 0,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function _(e,t){let a=Math.round((new Date(t).getTime()-new Date(e).getTime())/6e4);return a<60?`${a}m`:a<1440?`${Math.round(a/60)}h ${a%60>0?`${a%60}m`:""}`.trim():`${Math.round(a/1440)}d`}function M(e){let t=e=>String(e).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function S(){let[e,n]=(0,a.useState)([]),[d,x]=(0,a.useState)(!0),[u,p]=(0,a.useState)(!1),[b,f]=(0,a.useState)(null),[g,k]=(0,a.useState)(!1),[S,T]=(0,a.useState)(""),[z,A]=(0,a.useState)(""),[D,P]=(0,a.useState)("custom"),[W,E]=(0,a.useState)(!1),O=M(new Date(Date.now()+36e5)),U=M(new Date(Date.now()+72e5)),[B,H]=(0,a.useState)({title:"",description:"",start_time:O,end_time:U,notify_users:!0,affected_machines:""}),L=(0,a.useCallback)(async()=>{x(!0);try{let e=await (0,s.fetchWithAuth)("/api/maintenance");e.ok&&n(await e.json())}finally{x(!1)}},[]);(0,a.useEffect)(()=>{L()},[L]),(0,a.useEffect)(()=>{let e=setInterval(L,3e4);return()=>clearInterval(e)},[L]);let R=e=>{f(e),H({title:e.title,description:e.description||"",start_time:M(new Date(e.start_time)),end_time:M(new Date(e.end_time)),notify_users:!!e.notify_users,affected_machines:e.affected_machines?JSON.parse(e.affected_machines).join(", "):""}),P("custom"),T(""),p(!0)},F=async()=>{if(!B.title||!B.start_time||!B.end_time)return void T("Title, start time, and end time are required.");if(new Date(B.end_time)<=new Date(B.start_time))return void T("End time must be after start time.");k(!0),T("");try{let e={...B,start_time:new Date(B.start_time).toISOString(),end_time:new Date(B.end_time).toISOString(),affected_machines:B.affected_machines?B.affected_machines.split(",").map(e=>e.trim()).filter(Boolean):[]},t=await (0,s.fetchWithAuth)(b?`/api/maintenance/${b.id}`:"/api/maintenance",{method:b?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)A(b?"Maintenance window updated.":"Maintenance window scheduled."),p(!1),setTimeout(()=>A(""),4e3),L();else{let e=await t.json().catch(()=>({error:"Failed"}));T(e.error||"Failed to save.")}}finally{k(!1)}},I=async(e,t)=>{await (0,s.fetchWithAuth)(`/api/maintenance/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})}),L()},q=async e=>{confirm("Delete this maintenance window?")&&(await (0,s.fetchWithAuth)(`/api/maintenance/${e}`,{method:"DELETE"}),L())},J=async e=>{k(!0);let t=`Maintenance: ${e.title}`,a=`Scheduled Maintenance Window

Title: ${e.title}
Start: ${C(e.start_time)}
End: ${C(e.end_time)}
Duration: ${_(e.start_time,e.end_time)}

${e.description||""}`,i=await (0,s.fetchWithAuth)("/api/mail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to_user:"__broadcast__",subject:t,body:a,template_key:"maintenance"})}).catch(()=>null);k(!1),i?.ok&&(A("Maintenance notification sent to all users."),setTimeout(()=>A(""),4e3))},X=e.filter(e=>"active"===e.status),K=e.filter(e=>"scheduled"===e.status),V=e.filter(e=>"completed"===e.status||"cancelled"===e.status);return(0,t.jsxs)("main",{className:"max-w-300 mx-auto px-4 sm:px-6 lg:px-8 pt-6 pb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-linear-to-br from-amber-500 to-orange-500 p-3 rounded-2xl shadow-lg shadow-amber-500/25",children:(0,t.jsx)(i.Wrench,{className:"text-white",size:24,strokeWidth:2.5})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold bg-linear-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:"Maintenance"}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Schedule and manage maintenance windows"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:L,className:"p-2 hover:bg-slate-100 rounded-lg text-slate-500 transition-colors",disabled:d,children:(0,t.jsx)(r.RefreshCw,{size:16,className:d?"animate-spin":""})}),(0,t.jsxs)("button",{onClick:()=>{f(null),H({title:"",description:"",start_time:O,end_time:U,notify_users:!0,affected_machines:""}),P("custom"),T(""),p(!0)},className:"flex items-center gap-2 px-5 py-2.5 bg-linear-to-r from-amber-500 to-orange-500 text-white rounded-xl text-sm font-semibold hover:shadow-lg hover:shadow-amber-500/30 transition-all duration-200 hover:scale-105",children:[(0,t.jsx)(l.Plus,{size:16,strokeWidth:2.5})," Schedule Maintenance"]})]})]}),(0,t.jsx)(v.AnimatePresence,{children:z&&(0,t.jsxs)(w.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mb-4 flex items-center gap-2 px-4 py-3 bg-emerald-50 border border-emerald-200 rounded-xl text-emerald-700 text-sm font-medium",children:[(0,t.jsx)(c.CheckCircle,{size:16})," ",z]})}),X.length>0&&(0,t.jsxs)("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-300 rounded-2xl flex items-start gap-3",children:[(0,t.jsx)(o.AlertTriangle,{size:20,className:"text-amber-600 shrink-0 mt-0.5 animate-pulse"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-amber-900 text-sm",children:"Active Maintenance Window"}),X.map(e=>(0,t.jsxs)("p",{className:"text-amber-700 text-sm mt-0.5",children:[(0,t.jsx)("strong",{children:e.title})," — ends ",C(e.end_time)]},e.id))]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[{label:"Active",count:X.length,color:"text-amber-600",bg:"bg-amber-50"},{label:"Scheduled",count:K.length,color:"text-blue-600",bg:"bg-blue-50"},{label:"Completed",count:e.filter(e=>"completed"===e.status).length,color:"text-emerald-600",bg:"bg-emerald-50"},{label:"Total",count:e.length,color:"text-slate-600",bg:"bg-slate-50"}].map(e=>(0,t.jsxs)("div",{className:`${e.bg} rounded-xl p-4 border border-white/60`,children:[(0,t.jsx)("p",{className:`text-2xl font-bold ${e.color}`,children:e.count}),(0,t.jsx)("p",{className:"text-xs text-slate-500 font-medium mt-0.5",children:e.label})]},e.label))}),d&&0===e.length?(0,t.jsxs)("div",{className:"flex items-center justify-center h-32 text-slate-400",children:[(0,t.jsx)(r.RefreshCw,{size:20,className:"animate-spin mr-2"})," Loading..."]}):0===e.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-48 text-slate-400",children:[(0,t.jsx)(i.Wrench,{size:40,className:"mb-3 opacity-20"}),(0,t.jsx)("p",{className:"font-medium",children:"No maintenance windows scheduled"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:'Click "Schedule Maintenance" to create one'})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[[...X,...K].length>0&&(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Upcoming & Active"}),(0,t.jsx)("div",{className:"space-y-3",children:[...X,...K].map(e=>(0,t.jsx)($,{w:e,onEdit:()=>R(e),onDelete:()=>q(e.id),onStatusChange:t=>I(e.id,t),onNotify:()=>J(e),sending:g},e.id))})]}),V.length>0&&(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"History"}),(0,t.jsx)("div",{className:"space-y-3",children:V.slice(0,20).map(e=>(0,t.jsx)($,{w:e,onEdit:()=>R(e),onDelete:()=>q(e.id),onStatusChange:t=>I(e.id,t),onNotify:()=>J(e),sending:g,compact:!0},e.id))})]})]}),(0,t.jsx)(v.AnimatePresence,{children:u&&(0,t.jsx)(w.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&p(!1)},children:(0,t.jsxs)(w.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-100",children:[(0,t.jsxs)("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[(0,t.jsx)(i.Wrench,{size:18,className:"text-amber-500"}),b?"Edit Maintenance Window":"Schedule Maintenance Window"]}),(0,t.jsx)("button",{onClick:()=>p(!1),className:"p-1 hover:bg-slate-100 rounded-lg text-slate-400",children:(0,t.jsx)(m.X,{size:18})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Template"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>E(!W),className:"w-full flex items-center justify-between px-4 py-2.5 border border-slate-200 rounded-xl text-sm text-slate-700 hover:border-amber-300 transition-colors bg-slate-50 hover:bg-white",children:[(0,t.jsx)("span",{children:N.find(e=>e.key===D)?.label||"Select template"}),(0,t.jsx)(j.ChevronDown,{size:15,className:`text-slate-400 transition-transform ${W?"rotate-180":""}`})]}),(0,t.jsx)(v.AnimatePresence,{children:W&&(0,t.jsx)(w.motion.div,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},className:"absolute z-10 top-full mt-1 w-full bg-white border border-slate-200 rounded-xl shadow-lg overflow-hidden",children:N.map(e=>(0,t.jsxs)("button",{onClick:()=>{var t;let a;return t=e.key,void((a=N.find(e=>e.key===t))&&(P(t),H(e=>({...e,title:a.title||e.title,description:a.description||e.description})),E(!1)))},className:`w-full text-left px-4 py-2.5 text-sm hover:bg-amber-50 transition-colors flex items-center justify-between ${D===e.key?"text-amber-700 bg-amber-50 font-semibold":"text-slate-700"}`,children:[e.label,D===e.key&&(0,t.jsx)(y.Check,{size:14,className:"text-amber-500"})]},e.key))})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Title *"}),(0,t.jsx)("input",{type:"text",value:B.title,onChange:e=>H(t=>({...t,title:e.target.value})),placeholder:"e.g. Weekly security patches",className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-400/40 focus:border-amber-300"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:B.description,onChange:e=>H(t=>({...t,description:e.target.value})),rows:4,placeholder:"What will happen during this maintenance window?",className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-400/40 focus:border-amber-300 resize-none"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Start Time *"}),(0,t.jsx)("input",{type:"datetime-local",value:B.start_time,onChange:e=>H(t=>({...t,start_time:e.target.value})),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-400/40 focus:border-amber-300"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"End Time *"}),(0,t.jsx)("input",{type:"datetime-local",value:B.end_time,onChange:e=>H(t=>({...t,end_time:e.target.value})),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-400/40 focus:border-amber-300"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Affected Machines"}),(0,t.jsx)("input",{type:"text",value:B.affected_machines,onChange:e=>H(t=>({...t,affected_machines:e.target.value})),placeholder:"Comma-separated hostnames, or leave blank for all",className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-400/40 focus:border-amber-300"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl border border-slate-100",children:[(0,t.jsx)("button",{type:"button",onClick:()=>H(e=>({...e,notify_users:!e.notify_users})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${B.notify_users?"bg-amber-500":"bg-slate-200"}`,children:(0,t.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow-sm transition-transform ${B.notify_users?"translate-x-6":"translate-x-1"}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-slate-700",children:"Email Notification"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Send maintenance notice to all users via email"})]})]}),S&&(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm",children:[(0,t.jsx)(o.AlertTriangle,{size:14})," ",S]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-100 bg-slate-50/50 rounded-b-2xl",children:[(0,t.jsx)("button",{onClick:()=>p(!1),className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:F,disabled:g,className:"flex items-center gap-2 px-5 py-2 bg-linear-to-r from-amber-500 to-orange-500 text-white rounded-xl text-sm font-semibold hover:shadow-lg hover:shadow-amber-500/30 transition-all disabled:opacity-50",children:[g?(0,t.jsx)(r.RefreshCw,{size:14,className:"animate-spin"}):(0,t.jsx)(h.Calendar,{size:14}),b?"Update":"Schedule"]})]})]})})})]})}function $({w:e,onEdit:a,onDelete:s,onStatusChange:i,onNotify:l,sending:r,compact:c}){let d=k[e.status]||k.scheduled,o=d.icon,m="active"===e.status,u="scheduled"===e.status,j="completed"===e.status||"cancelled"===e.status;return(0,t.jsxs)(w.motion.div,{layout:!0,className:`bg-white border ${m?"border-amber-200 shadow-amber-100":"border-slate-200"} rounded-2xl shadow-sm overflow-hidden`,children:[m&&(0,t.jsx)("div",{className:"h-1 bg-linear-to-r from-amber-400 to-orange-400"}),u&&(0,t.jsx)("div",{className:"h-1 bg-linear-to-r from-blue-400 to-indigo-400"}),(0,t.jsxs)("div",{className:`flex items-start gap-4 ${c?"p-4":"p-5"}`,children:[(0,t.jsx)("div",{className:`shrink-0 p-2 rounded-xl ${(d.color.replace("text-","text-").split(" ")[1],"")} bg-slate-50`,children:(0,t.jsx)(o,{size:c?16:20,className:d.color.split(" ")[1]})}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("h3",{className:`font-semibold text-slate-800 truncate ${c?"text-sm":""}`,children:e.title}),(0,t.jsx)("span",{className:`text-xs px-2 py-0.5 rounded-full font-semibold ${d.color}`,children:d.label}),e.notify_users?(0,t.jsx)(x.Bell,{size:12,className:"text-slate-400"}):(0,t.jsx)(p,{size:12,className:"text-slate-300"})]}),!c&&e.description&&(0,t.jsx)("p",{className:"text-sm text-slate-500 mt-1 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-slate-500 flex-wrap",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(h.Calendar,{size:11})," ",C(e.start_time)]}),(0,t.jsxs)("span",{children:["→ ",C(e.end_time)]}),(0,t.jsxs)("span",{className:"text-slate-400",children:["(",_(e.start_time,e.end_time),")"]}),u&&(0,t.jsxs)("span",{className:"text-blue-600 font-medium",children:["in ",function(e){let t=new Date(e).getTime()-Date.now();if(t<0)return"Past";let a=Math.floor(t/36e5),s=Math.floor(t%36e5/6e4);return a>48?`${Math.floor(a/24)}d`:a>0?`${a}h ${s}m`:`${s}m`}(e.start_time)]}),(0,t.jsxs)("span",{className:"text-slate-400",children:["by ",e.created_by]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 shrink-0",children:[u&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>i("active"),className:"flex items-center gap-1 px-2.5 py-1.5 bg-amber-50 text-amber-700 hover:bg-amber-100 rounded-lg text-xs font-medium transition-colors",title:"Mark as Active",children:[(0,t.jsx)(f.Play,{size:12})," Start"]}),(0,t.jsx)("button",{onClick:l,disabled:r,className:"p-1.5 hover:bg-blue-50 text-blue-500 rounded-lg transition-colors",title:"Send notification",children:(0,t.jsx)(x.Bell,{size:14})}),(0,t.jsx)("button",{onClick:a,className:"p-1.5 hover:bg-slate-100 text-slate-400 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(b,{size:14})})]}),m&&(0,t.jsxs)("button",{onClick:()=>i("completed"),className:"flex items-center gap-1 px-2.5 py-1.5 bg-emerald-50 text-emerald-700 hover:bg-emerald-100 rounded-lg text-xs font-medium transition-colors",title:"Mark as Completed",children:[(0,t.jsx)(y.Check,{size:12})," Complete"]}),!j&&(0,t.jsx)("button",{onClick:()=>i("cancelled"),className:"p-1.5 hover:bg-slate-100 text-slate-300 hover:text-slate-500 rounded-lg transition-colors",title:"Cancel",children:(0,t.jsx)(g,{size:14})}),(0,t.jsx)("button",{onClick:s,className:"p-1.5 hover:bg-red-50 text-slate-300 hover:text-red-500 rounded-lg transition-colors",title:"Delete",children:(0,t.jsx)(n.Trash2,{size:14})})]})]})})]})]})}e.s(["default",()=>S],32500)}]);