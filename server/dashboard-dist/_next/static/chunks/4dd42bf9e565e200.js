(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,652,(e,r,n)=>{var i,o,a,s,l,c,f,h,u,d,p,g,m,v,w,y=!1;function b(){if(!y){y=!0;var e=navigator.userAgent,r=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(g=/\b(iPhone|iP[ao]d)/.exec(e),m=/\b(iP[ao]d)/.exec(e),d=/Android/i.exec(e),v=/FBAN\/\w+;/i.exec(e),w=/Mobile/i.exec(e),p=!!/Win64/.exec(e),r){(i=r[1]?parseFloat(r[1]):r[5]?parseFloat(r[5]):NaN)&&document&&document.documentMode&&(i=document.documentMode);var b=/(?:Trident\/(\d+.\d+))/.exec(e);c=b?parseFloat(b[1])+4:i,o=r[2]?parseFloat(r[2]):NaN,a=r[3]?parseFloat(r[3]):NaN,l=(s=r[4]?parseFloat(r[4]):NaN)&&(r=/(?:Chrome\/(\d+\.\d+))/.exec(e))&&r[1]?parseFloat(r[1]):NaN}else i=o=a=l=s=NaN;if(n){if(n[1]){var A=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);f=!A||parseFloat(A[1].replace("_","."))}else f=!1;h=!!n[2],u=!!n[3]}else f=h=u=!1}}var A={ie:function(){return b()||i},ieCompatibilityMode:function(){return b()||c>i},ie64:function(){return A.ie()&&p},firefox:function(){return b()||o},opera:function(){return b()||a},webkit:function(){return b()||s},safari:function(){return A.webkit()},chrome:function(){return b()||l},windows:function(){return b()||h},osx:function(){return b()||f},linux:function(){return b()||u},iphone:function(){return b()||g},mobile:function(){return b()||g||m||d||w},nativeApp:function(){return b()||v},android:function(){return b()||d},ipad:function(){return b()||m}};r.exports=A},10316,(e,r,n)=>{"use strict";var i=!!("u">typeof window&&window.document&&window.document.createElement);r.exports={canUseDOM:i,canUseWorkers:"u">typeof Worker,canUseEventListeners:i&&!!(window.addEventListener||window.attachEvent),canUseViewport:i&&!!window.screen,isInWorker:!i}},33418,(e,r,n)=>{"use strict";var i,o=e.r(10316);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),r.exports=function(e,r){if(!o.canUseDOM||r&&!("addEventListener"in document))return!1;var n="on"+e,a=n in document;if(!a){var s=document.createElement("div");s.setAttribute(n,"return;"),a="function"==typeof s[n]}return!a&&i&&"wheel"===e&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}},52545,(e,r,n)=>{"use strict";var i=e.r(652),o=e.r(33418);function a(e){var r=0,n=0,i=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(r=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(r=n,n=0),i=10*r,o=10*n,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(i=e.deltaX),(i||o)&&e.deltaMode&&(1==e.deltaMode?(i*=40,o*=40):(i*=800,o*=800)),i&&!r&&(r=i<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:r,spinY:n,pixelX:i,pixelY:o}}a.getEventType=function(){return i.firefox()?"DOMMouseScroll":o("wheel")?"wheel":"mousewheel"},r.exports=a},99733,(e,r,n)=>{r.exports=e.r(52545)},36450,62696,13385,e=>{"use strict";let r;var n,i,o,a,s=function(e,r){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])})(e,r)},l=function(){return(l=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)},c=("function"==typeof SuppressedError&&SuppressedError,e.i(71645)),f=e.i(99733);function h(e,r,n,i,o){void 0===o&&(o=0);var a=w(r.width,r.height,o),s=a.width,l=a.height;return{x:u(e.x,s,n.width,i),y:u(e.y,l,n.height,i)}}function u(e,r,n,i){var o=r*i/2-n/2;return y(e,-o,o)}function d(e,r){return Math.sqrt(Math.pow(e.y-r.y,2)+Math.pow(e.x-r.x,2))}function p(e,r){return 180*Math.atan2(r.y-e.y,r.x-e.x)/Math.PI}function g(e,r){return Math.min(e,Math.max(0,r))}function m(e,r){return r}function v(e,r){return{x:(r.x+e.x)/2,y:(r.y+e.y)/2}}function w(e,r,n){var i=n*Math.PI/180;return{width:Math.abs(Math.cos(i)*e)+Math.abs(Math.sin(i)*r),height:Math.abs(Math.sin(i)*e)+Math.abs(Math.cos(i)*r)}}function y(e,r,n){return Math.min(Math.max(e,r),n)}function b(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.filter(function(e){return"string"==typeof e&&!!(e.length>0)}).join(" ").trim()}var A=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}function n(){var r=null!==e&&e.apply(this,arguments)||this;return r.cropperRef=c.createRef(),r.imageRef=c.createRef(),r.videoRef=c.createRef(),r.containerPosition={x:0,y:0},r.containerRef=null,r.styleRef=null,r.containerRect=null,r.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},r.dragStartPosition={x:0,y:0},r.dragStartCrop={x:0,y:0},r.gestureZoomStart=0,r.gestureRotationStart=0,r.isTouching=!1,r.lastPinchDistance=0,r.lastPinchRotation=0,r.rafDragTimeout=null,r.rafPinchTimeout=null,r.wheelTimer=null,r.currentDoc="u">typeof document?document:null,r.currentWindow="u">typeof window?window:null,r.resizeObserver=null,r.previousCropSize=null,r.isInitialized=!1,r.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},r.initResizeObserver=function(){if(void 0!==window.ResizeObserver&&r.containerRef){var e=!0;r.resizeObserver=new window.ResizeObserver(function(n){if(e){e=!1;return}r.computeSizes()}),r.resizeObserver.observe(r.containerRef)}},r.preventZoomSafari=function(e){return e.preventDefault()},r.cleanEvents=function(){r.currentDoc&&(r.currentDoc.removeEventListener("mousemove",r.onMouseMove),r.currentDoc.removeEventListener("mouseup",r.onDragStopped),r.currentDoc.removeEventListener("touchmove",r.onTouchMove),r.currentDoc.removeEventListener("touchend",r.onDragStopped),r.currentDoc.removeEventListener("gesturechange",r.onGestureChange),r.currentDoc.removeEventListener("gestureend",r.onGestureEnd),r.currentDoc.removeEventListener("scroll",r.onScroll))},r.clearScrollEvent=function(){r.containerRef&&r.containerRef.removeEventListener("wheel",r.onWheel),r.wheelTimer&&clearTimeout(r.wheelTimer)},r.onMediaLoad=function(){var e=r.computeSizes();e&&(r.previousCropSize=e,r.emitCropData(),r.setInitialCrop(e),r.isInitialized=!0),r.props.onMediaLoaded&&r.props.onMediaLoaded(r.mediaSize)},r.setInitialCrop=function(e){if(r.props.initialCroppedAreaPercentages){var n,i,o,a,s,l,c,f=(n=r.props.initialCroppedAreaPercentages,i=r.mediaSize,o=r.props.rotation,a=r.props.minZoom,s=r.props.maxZoom,l=w(i.width,i.height,o),{crop:{x:(c=y(e.width/l.width*(100/n.width),a,s))*l.width/2-e.width/2-l.width*c*(n.x/100),y:c*l.height/2-e.height/2-l.height*c*(n.y/100)},zoom:c}),h=f.crop,u=f.zoom;r.props.onCropChange(h),r.props.onZoomChange&&r.props.onZoomChange(u)}else if(r.props.initialCroppedAreaPixels){var d,p,g,m,v,b,A,x,C,S=(d=r.props.initialCroppedAreaPixels,p=r.mediaSize,g=r.props.rotation,m=r.props.minZoom,v=r.props.maxZoom,void 0===g&&(g=0),b=w(p.naturalWidth,p.naturalHeight,g),x=y((A=p.width>p.height?p.width/p.naturalWidth:p.height/p.naturalHeight,e.height>e.width?e.height/(d.height*A):e.width/(d.width*A)),m,v),C=e.height>e.width?e.height/d.height:e.width/d.width,{crop:{x:((b.width-d.width)/2-d.x)*C,y:((b.height-d.height)/2-d.y)*C},zoom:x}),h=S.crop,u=S.zoom;r.props.onCropChange(h),r.props.onZoomChange&&r.props.onZoomChange(u)}},r.computeSizes=function(){var e,n,i,o,a,s,c=r.imageRef.current||r.videoRef.current;if(c&&r.containerRef){r.containerRect=r.containerRef.getBoundingClientRect(),r.saveContainerPosition();var f,h,u,d,p,g,m,v,y,b,A,x=r.containerRect.width/r.containerRect.height,C=(null==(e=r.imageRef.current)?void 0:e.naturalWidth)||(null==(n=r.videoRef.current)?void 0:n.videoWidth)||0,S=(null==(i=r.imageRef.current)?void 0:i.naturalHeight)||(null==(o=r.videoRef.current)?void 0:o.videoHeight)||0,E=c.offsetWidth<C||c.offsetHeight<S,R=C/S,F=void 0;if(E)switch(r.state.mediaObjectFit){default:case"contain":F=x>R?{width:r.containerRect.height*R,height:r.containerRect.height}:{width:r.containerRect.width,height:r.containerRect.width/R};break;case"horizontal-cover":F={width:r.containerRect.width,height:r.containerRect.width/R};break;case"vertical-cover":F={width:r.containerRect.height*R,height:r.containerRect.height}}else F={width:c.offsetWidth,height:c.offsetHeight};r.mediaSize=l(l({},F),{naturalWidth:C,naturalHeight:S}),r.props.setMediaSize&&r.props.setMediaSize(r.mediaSize);var U=r.props.cropSize?r.props.cropSize:(f=r.mediaSize.width,h=r.mediaSize.height,u=r.containerRect.width,d=r.containerRect.height,p=r.props.aspect,void 0===(g=r.props.rotation)&&(g=0),v=(m=w(f,h,g)).width,y=m.height,(b=Math.min(v,u))>(A=Math.min(y,d))*p?{width:A*p,height:A}:{width:b,height:b/p});return((null==(a=r.state.cropSize)?void 0:a.height)!==U.height||(null==(s=r.state.cropSize)?void 0:s.width)!==U.width)&&r.props.onCropSizeChange&&r.props.onCropSizeChange(U),r.setState({cropSize:U},r.recomputeCropPosition),r.props.setCropSize&&r.props.setCropSize(U),U}},r.saveContainerPosition=function(){if(r.containerRef){var e=r.containerRef.getBoundingClientRect();r.containerPosition={x:e.left,y:e.top}}},r.onMouseDown=function(e){r.currentDoc&&(e.preventDefault(),r.currentDoc.addEventListener("mousemove",r.onMouseMove),r.currentDoc.addEventListener("mouseup",r.onDragStopped),r.saveContainerPosition(),r.onDragStart(n.getMousePoint(e)))},r.onMouseMove=function(e){return r.onDrag(n.getMousePoint(e))},r.onScroll=function(e){r.currentDoc&&(e.preventDefault(),r.saveContainerPosition())},r.onTouchStart=function(e){!r.currentDoc||(r.isTouching=!0,(!r.props.onTouchRequest||r.props.onTouchRequest(e))&&(r.currentDoc.addEventListener("touchmove",r.onTouchMove,{passive:!1}),r.currentDoc.addEventListener("touchend",r.onDragStopped),r.saveContainerPosition(),2===e.touches.length?r.onPinchStart(e):1===e.touches.length&&r.onDragStart(n.getTouchPoint(e.touches[0]))))},r.onTouchMove=function(e){e.preventDefault(),2===e.touches.length?r.onPinchMove(e):1===e.touches.length&&r.onDrag(n.getTouchPoint(e.touches[0]))},r.onGestureStart=function(e){r.currentDoc&&(e.preventDefault(),r.currentDoc.addEventListener("gesturechange",r.onGestureChange),r.currentDoc.addEventListener("gestureend",r.onGestureEnd),r.gestureZoomStart=r.props.zoom,r.gestureRotationStart=r.props.rotation)},r.onGestureChange=function(e){if(e.preventDefault(),!r.isTouching){var i=n.getMousePoint(e),o=r.gestureZoomStart-1+e.scale;if(r.setNewZoom(o,i,{shouldUpdatePosition:!0}),r.props.onRotationChange){var a=r.gestureRotationStart+e.rotation;r.props.onRotationChange(a)}}},r.onGestureEnd=function(e){r.cleanEvents()},r.onDragStart=function(e){var n,i;r.dragStartPosition={x:e.x,y:e.y},r.dragStartCrop=l({},r.props.crop),null==(i=(n=r.props).onInteractionStart)||i.call(n)},r.onDrag=function(e){var n=e.x,i=e.y;r.currentWindow&&(r.rafDragTimeout&&r.currentWindow.cancelAnimationFrame(r.rafDragTimeout),r.rafDragTimeout=r.currentWindow.requestAnimationFrame(function(){if(r.state.cropSize&&void 0!==n&&void 0!==i){var e=n-r.dragStartPosition.x,o=i-r.dragStartPosition.y,a={x:r.dragStartCrop.x+e,y:r.dragStartCrop.y+o},s=r.props.restrictPosition?h(a,r.mediaSize,r.state.cropSize,r.props.zoom,r.props.rotation):a;r.props.onCropChange(s)}}))},r.onDragStopped=function(){var e,n;r.isTouching=!1,r.cleanEvents(),r.emitCropData(),null==(n=(e=r.props).onInteractionEnd)||n.call(e)},r.onWheel=function(e){if(r.currentWindow&&(!r.props.onWheelRequest||r.props.onWheelRequest(e))){e.preventDefault();var i=n.getMousePoint(e),o=(0,f.default)(e).pixelY,a=r.props.zoom-o*r.props.zoomSpeed/200;r.setNewZoom(a,i,{shouldUpdatePosition:!0}),r.state.hasWheelJustStarted||r.setState({hasWheelJustStarted:!0},function(){var e,n;return null==(n=(e=r.props).onInteractionStart)?void 0:n.call(e)}),r.wheelTimer&&clearTimeout(r.wheelTimer),r.wheelTimer=r.currentWindow.setTimeout(function(){return r.setState({hasWheelJustStarted:!1},function(){var e,n;return null==(n=(e=r.props).onInteractionEnd)?void 0:n.call(e)})},250)}},r.getPointOnContainer=function(e,n){var i=e.x,o=e.y;if(!r.containerRect)throw Error("The Cropper is not mounted");return{x:r.containerRect.width/2-(i-n.x),y:r.containerRect.height/2-(o-n.y)}},r.getPointOnMedia=function(e){var n=e.x,i=e.y,o=r.props,a=o.crop,s=o.zoom;return{x:(n+a.x)/s,y:(i+a.y)/s}},r.setNewZoom=function(e,n,i){var o=(void 0===i?{}:i).shouldUpdatePosition;if(r.state.cropSize&&r.props.onZoomChange){var a=y(e,r.props.minZoom,r.props.maxZoom);if(void 0===o||o){var s=r.getPointOnContainer(n,r.containerPosition),l=r.getPointOnMedia(s),c={x:l.x*a-s.x,y:l.y*a-s.y},f=r.props.restrictPosition?h(c,r.mediaSize,r.state.cropSize,a,r.props.rotation):c;r.props.onCropChange(f)}r.props.onZoomChange(a)}},r.getCropData=function(){var e,n,i,o,a,s,c,f,u,d,p,v,y,b,A;return r.state.cropSize?(e=r.props.restrictPosition?h(r.props.crop,r.mediaSize,r.state.cropSize,r.props.zoom,r.props.rotation):r.props.crop,n=r.mediaSize,i=r.state.cropSize,o=r.getAspect(),a=r.props.zoom,s=r.props.rotation,c=r.props.restrictPosition,void 0===s&&(s=0),void 0===c&&(c=!0),f=c?g:m,u=w(n.width,n.height,s),d=w(n.naturalWidth,n.naturalHeight,s),p={x:f(100,((u.width-i.width/a)/2-e.x/a)/u.width*100),y:f(100,((u.height-i.height/a)/2-e.y/a)/u.height*100),width:f(100,i.width/u.width*100/a),height:f(100,i.height/u.height*100/a)},v=Math.round(f(d.width,p.width*d.width/100)),y=Math.round(f(d.height,p.height*d.height/100)),b=d.width>=d.height*o?{width:Math.round(y*o),height:y}:{width:v,height:Math.round(v/o)},A=l(l({},b),{x:Math.round(f(d.width-b.width,p.x*d.width/100)),y:Math.round(f(d.height-b.height,p.y*d.height/100))}),{croppedAreaPercentages:p,croppedAreaPixels:A}):null},r.emitCropData=function(){var e=r.getCropData();if(e){var n=e.croppedAreaPercentages,i=e.croppedAreaPixels;r.props.onCropComplete&&r.props.onCropComplete(n,i),r.props.onCropAreaChange&&r.props.onCropAreaChange(n,i)}},r.emitCropAreaChange=function(){var e=r.getCropData();if(e){var n=e.croppedAreaPercentages,i=e.croppedAreaPixels;r.props.onCropAreaChange&&r.props.onCropAreaChange(n,i)}},r.recomputeCropPosition=function(){if(r.state.cropSize){var e,n,i=r.props.crop;if(r.isInitialized&&(null==(e=r.previousCropSize)?void 0:e.width)&&(null==(n=r.previousCropSize)?void 0:n.height)&&(Math.abs(r.previousCropSize.width-r.state.cropSize.width)>1e-6||Math.abs(r.previousCropSize.height-r.state.cropSize.height)>1e-6)){var o=r.state.cropSize.width/r.previousCropSize.width,a=r.state.cropSize.height/r.previousCropSize.height;i={x:r.props.crop.x*o,y:r.props.crop.y*a}}var s=r.props.restrictPosition?h(i,r.mediaSize,r.state.cropSize,r.props.zoom,r.props.rotation):i;r.previousCropSize=r.state.cropSize,r.props.onCropChange(s),r.emitCropData()}},r.onKeyDown=function(e){var n,i,o=r.props,a=o.crop,s=o.onCropChange,c=o.keyboardStep,f=o.zoom,u=o.rotation,d=c;if(r.state.cropSize){e.shiftKey&&(d*=.2);var p=l({},a);switch(e.key){case"ArrowUp":p.y-=d,e.preventDefault();break;case"ArrowDown":p.y+=d,e.preventDefault();break;case"ArrowLeft":p.x-=d,e.preventDefault();break;case"ArrowRight":p.x+=d,e.preventDefault();break;default:return}r.props.restrictPosition&&(p=h(p,r.mediaSize,r.state.cropSize,f,u)),e.repeat||null==(i=(n=r.props).onInteractionStart)||i.call(n),s(p)}},r.onKeyUp=function(e){var n,i;switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":e.preventDefault();break;default:return}r.emitCropData(),null==(i=(n=r.props).onInteractionEnd)||i.call(n)},r}return s(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r),n.prototype.componentDidMount=function(){this.currentDoc&&this.currentWindow&&(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),void 0===window.ResizeObserver&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=".reactEasyCrop_Container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  user-select: none;\n  touch-action: none;\n  cursor: move;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.reactEasyCrop_Image,\n.reactEasyCrop_Video {\n  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */\n}\n\n.reactEasyCrop_Contain {\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.reactEasyCrop_Cover_Horizontal {\n  width: 100%;\n  height: auto;\n}\n.reactEasyCrop_Cover_Vertical {\n  width: auto;\n  height: 100%;\n}\n\n.reactEasyCrop_CropArea {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  box-sizing: border-box;\n  box-shadow: 0 0 0 9999em;\n  color: rgba(0, 0, 0, 0.5);\n  overflow: hidden;\n}\n\n.reactEasyCrop_CropAreaRound {\n  border-radius: 50%;\n}\n\n.reactEasyCrop_CropAreaGrid::before {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 0;\n  bottom: 0;\n  left: 33.33%;\n  right: 33.33%;\n  border-top: 0;\n  border-bottom: 0;\n}\n\n.reactEasyCrop_CropAreaGrid::after {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 33.33%;\n  bottom: 33.33%;\n  left: 0;\n  right: 0;\n  border-left: 0;\n  border-right: 0;\n}\n",this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},n.prototype.componentWillUnmount=function(){var e,r;this.currentDoc&&this.currentWindow&&(void 0===window.ResizeObserver&&this.currentWindow.removeEventListener("resize",this.computeSizes),null==(e=this.resizeObserver)||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&(null==(r=this.styleRef.parentNode)||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},n.prototype.componentDidUpdate=function(e){e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect||e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():(null==(r=e.cropSize)?void 0:r.height)!==(null==(n=this.props.cropSize)?void 0:n.height)||(null==(i=e.cropSize)?void 0:i.width)!==(null==(o=this.props.cropSize)?void 0:o.width)?this.computeSizes():((null==(a=e.crop)?void 0:a.x)!==(null==(s=this.props.crop)?void 0:s.x)||(null==(l=e.crop)?void 0:l.y)!==(null==(c=this.props.crop)?void 0:c.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&(null==(f=this.videoRef.current)||f.load());var r,n,i,o,a,s,l,c,f,h=this.getObjectFit();h!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:h},this.computeSizes)},n.prototype.getAspect=function(){var e=this.props,r=e.cropSize,n=e.aspect;return r?r.width/r.height:n},n.prototype.getObjectFit=function(){var e,r,n,i;if("cover"===this.props.objectFit){if((this.imageRef.current||this.videoRef.current)&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var o=this.containerRect.width/this.containerRect.height;return((null==(e=this.imageRef.current)?void 0:e.naturalWidth)||(null==(r=this.videoRef.current)?void 0:r.videoWidth)||0)/((null==(n=this.imageRef.current)?void 0:n.naturalHeight)||(null==(i=this.videoRef.current)?void 0:i.videoHeight)||0)<o?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},n.prototype.onPinchStart=function(e){var r=n.getTouchPoint(e.touches[0]),i=n.getTouchPoint(e.touches[1]);this.lastPinchDistance=d(r,i),this.lastPinchRotation=p(r,i),this.onDragStart(v(r,i))},n.prototype.onPinchMove=function(e){var r=this;if(this.currentDoc&&this.currentWindow){var i=n.getTouchPoint(e.touches[0]),o=n.getTouchPoint(e.touches[1]),a=v(i,o);this.onDrag(a),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var e=d(i,o),n=r.props.zoom*(e/r.lastPinchDistance);r.setNewZoom(n,a,{shouldUpdatePosition:!1}),r.lastPinchDistance=e;var s=p(i,o),l=r.props.rotation+(s-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(l),r.lastPinchRotation=s})}},n.prototype.render=function(){var e,r=this,n=this.props,i=n.image,o=n.video,a=n.mediaProps,s=n.cropperProps,f=n.transform,h=n.crop,u=h.x,d=h.y,p=n.rotation,g=n.zoom,m=n.cropShape,v=n.showGrid,w=n.roundCropAreaPixels,y=n.style,A=y.containerStyle,x=y.cropAreaStyle,C=y.mediaStyle,S=n.classes,E=S.containerClassName,R=S.cropAreaClassName,F=S.mediaClassName,U=null!=(e=this.state.mediaObjectFit)?e:this.getObjectFit();return c.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(e){return r.containerRef=e},"data-testid":"container",style:A,className:b("reactEasyCrop_Container",E)},i?c.createElement("img",l({alt:"",className:b("reactEasyCrop_Image","contain"===U&&"reactEasyCrop_Contain","horizontal-cover"===U&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===U&&"reactEasyCrop_Cover_Vertical",F)},a,{src:i,ref:this.imageRef,style:l(l({},C),{transform:f||"translate(".concat(u,"px, ").concat(d,"px) rotate(").concat(p,"deg) scale(").concat(g,")")}),onLoad:this.onMediaLoad})):o&&c.createElement("video",l({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:b("reactEasyCrop_Video","contain"===U&&"reactEasyCrop_Contain","horizontal-cover"===U&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===U&&"reactEasyCrop_Cover_Vertical",F)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:l(l({},C),{transform:f||"translate(".concat(u,"px, ").concat(d,"px) rotate(").concat(p,"deg) scale(").concat(g,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(e){return c.createElement("source",l({key:e.src},e))})),this.state.cropSize&&c.createElement("div",l({ref:this.cropperRef,style:l(l({},x),{width:w?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:w?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:b("reactEasyCrop_CropArea","round"===m&&"reactEasyCrop_CropAreaRound",v&&"reactEasyCrop_CropAreaGrid",R)},s)))},n.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:3,minZoom:1,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:1},n.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n}(c.Component);function x(e){return e*Math.PI/180}async function C(e,r,n=0,i={horizontal:!1,vertical:!1}){var o,a;let s,l=await new Promise((r,n)=>{let i=new Image;i.addEventListener("load",()=>r(i)),i.addEventListener("error",e=>n(e)),i.setAttribute("crossOrigin","anonymous"),i.src=e}),c=document.createElement("canvas"),f=c.getContext("2d");if(!f)return null;let h=x(n),{width:u,height:d}=(o=l.width,a=l.height,{width:Math.abs(Math.cos(s=x(n))*o)+Math.abs(Math.sin(s)*a),height:Math.abs(Math.sin(s)*o)+Math.abs(Math.cos(s)*a)});c.width=u,c.height=d,f.translate(u/2,d/2),f.rotate(h),f.scale(i.horizontal?-1:1,i.vertical?-1:1),f.translate(-l.width/2,-l.height/2),f.drawImage(l,0,0);let p=f.getImageData(r.x,r.y,r.width,r.height);return c.width=r.width,c.height=r.height,f.putImageData(p,0,0),new Promise((e,r)=>{c.toBlob(n=>{n?e(n):r(Error("Canvas is empty"))},"image/jpeg",.9)})}function S(e,r){return new Promise(function(n,i){let o;return E(e).then(function(e){try{return o=e,n(new Blob([r.slice(0,2),o,r.slice(2)],{type:"image/jpeg"}))}catch(e){return i(e)}},i)})}e.s(["default",()=>A],36450),e.s(["default",()=>C],62696);let E=e=>new Promise((r,n)=>{let i=new FileReader;i.addEventListener("load",({target:{result:e}})=>{let i=new DataView(e),o=0;if(65496!==i.getUint16(o))return n("not a valid JPEG");for(o+=2;;){let a=i.getUint16(o);if(65498===a)break;let s=i.getUint16(o+2);if(65505===a&&0x45786966===i.getUint32(o+4)){let a,l=o+10;switch(i.getUint16(l)){case 18761:a=!0;break;case 19789:a=!1;break;default:return n("TIFF header contains invalid endian")}if(42!==i.getUint16(l+2,a))return n("TIFF header contains invalid version");let c=i.getUint32(l+4,a),f=l+c+2+12*i.getUint16(l+c,a);for(let e=l+c+2;e<f;e+=12)if(274==i.getUint16(e,a)){if(3!==i.getUint16(e+2,a))return n("Orientation data type is invalid");if(1!==i.getUint32(e+4,a))return n("Orientation data count is invalid");i.setUint16(e+8,1,a);break}return r(e.slice(o,o+2+s))}o+=2+s}return r(new Blob)}),i.readAsArrayBuffer(e)});var R={};({get exports(){return R},set exports(t){R=t}}).exports=o={},o.parse=function(e,r){for(var n=o.bin.readUshort,i=o.bin.readUint,a=0,s={},l=new Uint8Array(e),c=l.length-4;0x6054b50!=i(l,c);)c--;var f=n(l,a=c+4+4);n(l,a+=2);var h=i(l,a+=2),u=i(l,a+=4);a+=4,a=u;for(var d=0;d<f;d++){i(l,a),a+=4,a+=4,a+=4,i(l,a+=4),h=i(l,a+=4);var p=i(l,a+=4),g=n(l,a+=4),m=n(l,a+2),v=n(l,a+4);a+=6;var w=i(l,a+=8);a+=4,a+=g+m+v,o._readLocal(l,w,s,h,p,r)}return s},o._readLocal=function(e,r,n,i,a,s){var l=o.bin.readUshort,c=o.bin.readUint;c(e,r),l(e,r+=4),l(e,r+=2);var f=l(e,r+=2);c(e,r+=2),c(e,r+=4),r+=4;var h=l(e,r+=8),u=l(e,r+=2);r+=2;var d=o.bin.readUTF8(e,r,h);if(r+=h,r+=u,s)n[d]={size:a,csize:i};else{var p=new Uint8Array(e.buffer,r);if(0==f)n[d]=new Uint8Array(p.buffer.slice(r,r+i));else{if(8!=f)throw"unknown compression method: "+f;var g=new Uint8Array(a);o.inflateRaw(p,g),n[d]=g}}},o.inflateRaw=function(e,r){return o.F.inflate(e,r)},o.inflate=function(e,r){return e[0],e[1],o.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),r)},o.deflate=function(e,r){null==r&&(r={level:6});var n=0,i=new Uint8Array(50+Math.floor(1.1*e.length));i[n]=120,i[n+1]=156,n+=2,n=o.F.deflateRaw(e,i,n,r.level);var a=o.adler(e,0,e.length);return i[n+0]=a>>>24&255,i[n+1]=a>>>16&255,i[n+2]=a>>>8&255,i[n+3]=a>>>0&255,new Uint8Array(i.buffer,0,n+4)},o.deflateRaw=function(e,r){null==r&&(r={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),i=o.F.deflateRaw(e,n,i,r.level);return new Uint8Array(n.buffer,0,i)},o.encode=function(e,r){null==r&&(r=!1);var n=0,i=o.bin.writeUint,a=o.bin.writeUshort,s={};for(var l in e){var c=!o._noNeed(l)&&!r,f=e[l],h=o.crc.crc(f,0,f.length);s[l]={cpr:c,usize:f.length,crc:h,file:c?o.deflateRaw(f):f}}for(var l in s)n+=s[l].file.length+30+46+2*o.bin.sizeUTF8(l);var u=new Uint8Array(n+=22),d=0,p=[];for(var l in s){var g=s[l];p.push(d),d=o._writeHeader(u,d,l,g,0)}var m=0,v=d;for(var l in s)g=s[l],p.push(d),d=o._writeHeader(u,d,l,g,1,p[m++]);var w=d-v;return i(u,d,0x6054b50),d+=4,a(u,d+=4,m),a(u,d+=2,m),i(u,d+=2,w),i(u,d+=4,v),d+=4,d+=2,u.buffer},o._noNeed=function(e){var r=e.split(".").pop().toLowerCase();return -1!="png,jpg,jpeg,zip".indexOf(r)},o._writeHeader=function(e,r,n,i,a,s){var l=o.bin.writeUint,c=o.bin.writeUshort,f=i.file;return l(e,r,0==a?0x4034b50:0x2014b50),r+=4,1==a&&(r+=2),c(e,r,20),c(e,r+=2,0),c(e,r+=2,8*!!i.cpr),l(e,r+=2,0),l(e,r+=4,i.crc),l(e,r+=4,f.length),l(e,r+=4,i.usize),c(e,r+=4,o.bin.sizeUTF8(n)),c(e,r+=2,0),r+=2,1==a&&(r+=2,r+=2,l(e,r+=6,s),r+=4),r+=o.bin.writeUTF8(e,r,n),0==a&&(e.set(f,r),r+=f.length),r},o.crc={table:function(){for(var e=new Uint32Array(256),r=0;r<256;r++){for(var n=r,i=0;i<8;i++)1&n?n=0xedb88320^n>>>1:n>>>=1;e[r]=n}return e}(),update:function(e,r,n,i){for(var a=0;a<i;a++)e=o.crc.table[255&(e^r[n+a])]^e>>>8;return e},crc:function(e,r,n){return 0xffffffff^o.crc.update(0xffffffff,e,r,n)}},o.adler=function(e,r,n){for(var i=1,o=0,a=r,s=r+n;a<s;){for(var l=Math.min(a+5552,s);a<l;)o+=i+=e[a++];i%=65521,o%=65521}return o<<16|i},o.bin={readUshort:function(e,r){return e[r]|e[r+1]<<8},writeUshort:function(e,r,n){e[r]=255&n,e[r+1]=n>>8&255},readUint:function(e,r){return 0x1000000*e[r+3]+(e[r+2]<<16|e[r+1]<<8|e[r])},writeUint:function(e,r,n){e[r]=255&n,e[r+1]=n>>8&255,e[r+2]=n>>16&255,e[r+3]=n>>24&255},readASCII:function(e,r,n){for(var i="",o=0;o<n;o++)i+=String.fromCharCode(e[r+o]);return i},writeASCII:function(e,r,n){for(var i=0;i<n.length;i++)e[r+i]=n.charCodeAt(i)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,r,n){for(var i,a="",s=0;s<n;s++)a+="%"+o.bin.pad(e[r+s].toString(16));try{i=decodeURIComponent(a)}catch(i){return o.bin.readASCII(e,r,n)}return i},writeUTF8:function(e,r,n){for(var i=n.length,o=0,a=0;a<i;a++){var s=n.charCodeAt(a);if(0==(0xffffff80&s))e[r+o]=s,o++;else if(0==(0xfffff800&s))e[r+o]=192|s>>6,e[r+o+1]=128|63&s,o+=2;else if(0==(0xffff0000&s))e[r+o]=224|s>>12,e[r+o+1]=128|s>>6&63,e[r+o+2]=128|63&s,o+=3;else{if(0!=(0xffe00000&s))throw"e";e[r+o]=240|s>>18,e[r+o+1]=128|s>>12&63,e[r+o+2]=128|s>>6&63,e[r+o+3]=128|63&s,o+=4}}return o},sizeUTF8:function(e){for(var r=e.length,n=0,i=0;i<r;i++){var o=e.charCodeAt(i);if(0==(0xffffff80&o))n++;else if(0==(0xfffff800&o))n+=2;else if(0==(0xffff0000&o))n+=3;else{if(0!=(0xffe00000&o))throw"e";n+=4}}return n}},o.F={},o.F.deflateRaw=function(e,r,n,i){var a=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],s=o.F.U,l=o.F._goodIndex;o.F._hash;var c=o.F._putsE,f=0,h=n<<3,u=0,d=e.length;if(0==i){for(;f<d;)c(r,h,+(f+(E=Math.min(65535,d-f))==d)),h=o.F._copyExact(e,f,E,r,h+8),f+=E;return h>>>3}var p=s.lits,g=s.strt,m=s.prev,v=0,w=0,y=0,b=0,A=0,x=0;for(d>2&&(g[x=o.F._hash(e,0)]=0),f=0;f<d;f++){if(A=x,f+1<d-2){x=o.F._hash(e,f+1);var C=f+1&32767;m[C]=g[x],g[x]=C}if(u<=f){(v>14e3||w>26697)&&d-f>100&&(u<f&&(p[v]=f-u,v+=2,u=f),h=o.F._writeBlock(+(f==d-1||u==d),p,v,b,e,y,f-y,r,h),v=w=b=0,y=f);var S=0;f<d-2&&(S=o.F._bestMatch(e,f,m,A,Math.min(a[2],d-f),a[3]));var E=S>>>16,R=65535&S;if(0!=S){R=65535&S;var F=l(E=S>>>16,s.of0);s.lhst[257+F]++;var U=l(R,s.df0);s.dhst[U]++,b+=s.exb[F]+s.dxb[U],p[v]=E<<23|f-u,p[v+1]=R<<16|F<<8|U,v+=2,u=f+E}else s.lhst[e[f]]++;w++}}for(y==f&&0!=e.length||(u<f&&(p[v]=f-u,v+=2,u=f),h=o.F._writeBlock(1,p,v,b,e,y,f-y,r,h),v=0,w=0,v=w=b=0,y=f);0!=(7&h);)h++;return h>>>3},o.F._bestMatch=function(e,r,n,i,a,s){var l=32767&r,c=n[l],f=l-c+32768&32767;if(c==l||i!=o.F._hash(e,r-f))return 0;for(var h=0,u=0,d=Math.min(32767,r);f<=d&&0!=--s&&c!=l;){if(0==h||e[r+h]==e[r+h-f]){var p=o.F._howLong(e,r,f);if(p>h){if(u=f,(h=p)>=a)break;f+2<p&&(p=f+2);for(var g=0,m=0;m<p-2;m++){var v=r-f+m+32768&32767,w=v-n[v]+32768&32767;w>g&&(g=w,c=v)}}}f+=(l=c)-(c=n[l])+32768&32767}return h<<16|u},o.F._howLong=function(e,r,n){if(e[r]!=e[r-n]||e[r+1]!=e[r+1-n]||e[r+2]!=e[r+2-n])return 0;var i=r,o=Math.min(e.length,r+258);for(r+=3;r<o&&e[r]==e[r-n];)r++;return r-i},o.F._hash=function(e,r){return(e[r]<<8|e[r+1])+(e[r+2]<<4)&65535},o.saved=0,o.F._writeBlock=function(e,r,n,i,a,s,l,c,f){var h,u,d,p,g,m,v,w,y,b,A,x=o.F.U,C=o.F._putsF,S=o.F._putsE;x.lhst[256]++,p=(d=o.F.getTrees())[0],g=d[1],m=d[2],v=d[3],w=d[4],y=d[5],b=d[6],A=d[7];var E=32+(0==(f+3&7)?0:8-(f+3&7))+(l<<3),R=i+o.F.contSize(x.fltree,x.lhst)+o.F.contSize(x.fdtree,x.dhst),F=i+o.F.contSize(x.ltree,x.lhst)+o.F.contSize(x.dtree,x.dhst);F+=14+3*y+o.F.contSize(x.itree,x.ihst)+(2*x.ihst[16]+3*x.ihst[17]+7*x.ihst[18]);for(var U=0;U<286;U++)x.lhst[U]=0;for(U=0;U<30;U++)x.dhst[U]=0;for(U=0;U<19;U++)x.ihst[U]=0;var M=E<R&&E<F?0:R<F?1:2;if(C(c,f,e),C(c,f+1,M),f+=3,0==M){for(;0!=(7&f);)f++;f=o.F._copyExact(a,s,l,c,f)}else{if(1==M&&(h=x.fltree,u=x.fdtree),2==M){o.F.makeCodes(x.ltree,p),o.F.revCodes(x.ltree,p),o.F.makeCodes(x.dtree,g),o.F.revCodes(x.dtree,g),o.F.makeCodes(x.itree,m),o.F.revCodes(x.itree,m),h=x.ltree,u=x.dtree,S(c,f,v-257),S(c,f+=5,w-1),S(c,f+=5,y-4),f+=4;for(var z=0;z<y;z++)S(c,f+3*z,x.itree[1+(x.ordr[z]<<1)]);f+=3*y,f=o.F._codeTiny(b,x.itree,c,f),f=o.F._codeTiny(A,x.itree,c,f)}for(var P=s,_=0;_<n;_+=2){for(var D=r[_],I=D>>>23,T=P+(8388607&D);P<T;)f=o.F._writeLit(a[P++],h,c,f);if(0!=I){var B=r[_+1],O=B>>16,L=B>>8&255,k=255&B;S(c,f=o.F._writeLit(257+L,h,c,f),I-x.of0[L]),f+=x.exb[L],C(c,f=o.F._writeLit(k,u,c,f),O-x.df0[k]),f+=x.dxb[k],P+=I}}f=o.F._writeLit(256,h,c,f)}return f},o.F._copyExact=function(e,r,n,i,o){var a=o>>>3;return i[a]=n,i[a+1]=n>>>8,i[a+2]=255-i[a],i[a+3]=255-i[a+1],a+=4,i.set(new Uint8Array(e.buffer,r,n),a),o+(n+4<<3)},o.F.getTrees=function(){for(var e=o.F.U,r=o.F._hufTree(e.lhst,e.ltree,15),n=o.F._hufTree(e.dhst,e.dtree,15),i=[],a=o.F._lenCodes(e.ltree,i),s=[],l=o.F._lenCodes(e.dtree,s),c=0;c<i.length;c+=2)e.ihst[i[c]]++;for(c=0;c<s.length;c+=2)e.ihst[s[c]]++;for(var f=o.F._hufTree(e.ihst,e.itree,7),h=19;h>4&&0==e.itree[1+(e.ordr[h-1]<<1)];)h--;return[r,n,f,a,l,h,i,s]},o.F.getSecond=function(e){for(var r=[],n=0;n<e.length;n+=2)r.push(e[n+1]);return r},o.F.nonZero=function(e){for(var r="",n=0;n<e.length;n+=2)0!=e[n+1]&&(r+=(n>>1)+",");return r},o.F.contSize=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i]*e[1+(i<<1)];return n},o.F._codeTiny=function(e,r,n,i){for(var a=0;a<e.length;a+=2){var s=e[a],l=e[a+1];i=o.F._writeLit(s,r,n,i);var c=16==s?2:17==s?3:7;s>15&&(o.F._putsE(n,i,l,c),i+=c)}return i},o.F._lenCodes=function(e,r){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var i=0;i<n;i+=2){var o=e[i+1],a=i+3<n?e[i+3]:-1,s=i+5<n?e[i+5]:-1,l=0==i?-1:e[i-1];if(0==o&&a==o&&s==o){for(var c=i+5;c+2<n&&e[c+2]==o;)c+=2;(f=Math.min(c+1-i>>>1,138))<11?r.push(17,f-3):r.push(18,f-11),i+=2*f-2}else if(o==l&&a==o&&s==o){for(c=i+5;c+2<n&&e[c+2]==o;)c+=2;var f=Math.min(c+1-i>>>1,6);r.push(16,f-3),i+=2*f-2}else r.push(o,0)}return n>>>1},o.F._hufTree=function(e,r,n){var i=[],a=e.length,s=r.length,l=0;for(l=0;l<s;l+=2)r[l]=0,r[l+1]=0;for(l=0;l<a;l++)0!=e[l]&&i.push({lit:l,f:e[l]});var c=i.length,f=i.slice(0);if(0==c)return 0;if(1==c){var h=i[0].lit;return f=+(0==h),r[1+(h<<1)]=1,r[1+(f<<1)]=1,1}i.sort(function(e,r){return e.f-r.f});var u=i[0],d=i[1],p=0,g=1,m=2;for(i[0]={lit:-1,f:u.f+d.f,l:u,r:d,d:0};g!=c-1;)u=p!=g&&(m==c||i[p].f<i[m].f)?i[p++]:i[m++],d=p!=g&&(m==c||i[p].f<i[m].f)?i[p++]:i[m++],i[g++]={lit:-1,f:u.f+d.f,l:u,r:d};var v=o.F.setDepth(i[g-1],0);for(v>n&&(o.F.restrictDepth(f,n,v),v=n),l=0;l<c;l++)r[1+(f[l].lit<<1)]=f[l].d;return v},o.F.setDepth=function(e,r){return -1!=e.lit?(e.d=r,r):Math.max(o.F.setDepth(e.l,r+1),o.F.setDepth(e.r,r+1))},o.F.restrictDepth=function(e,r,n){var i=0,o=1<<n-r,a=0;for(e.sort(function(e,r){return r.d==e.d?e.f-r.f:r.d-e.d}),i=0;i<e.length&&e[i].d>r;i++){var s=e[i].d;e[i].d=r,a+=o-(1<<n-s)}for(a>>>=n-r;a>0;)(s=e[i].d)<r?(e[i].d++,a-=1<<r-s-1):i++;for(;i>=0;i--)e[i].d==r&&a<0&&(e[i].d--,a++);0!=a&&console.log("debt left")},o.F._goodIndex=function(e,r){var n=0;return r[16]<=e&&(n|=16),r[8|n]<=e&&(n|=8),r[4|n]<=e&&(n|=4),r[2|n]<=e&&(n|=2),r[1|n]<=e&&(n|=1),n},o.F._writeLit=function(e,r,n,i){return o.F._putsF(n,i,r[e<<1]),i+r[1+(e<<1)]},o.F.inflate=function(e,r){var n=Uint8Array;if(3==e[0]&&0==e[1])return r||new n(0);var i=o.F,a=i._bitsF,s=i._bitsE,l=i._decodeTiny,c=i.makeCodes,f=i.codes2map,h=i._get17,u=i.U,d=null==r;d&&(r=new n(e.length>>>2<<3));for(var p,g,m=0,v=0,w=0,y=0,b=0,A=0,x=0,C=0,S=0;0==m;)if(m=a(e,S,1),v=a(e,S+1,2),S+=3,0!=v){if(d&&(r=o.F._check(r,C+131072)),1==v&&(p=u.flmap,g=u.fdmap,A=511,x=31),2==v){w=s(e,S,5)+257,y=s(e,S+5,5)+1,b=s(e,S+10,4)+4,S+=14;for(var E=0;E<38;E+=2)u.itree[E]=0,u.itree[E+1]=0;var R=1;for(E=0;E<b;E++){var F=s(e,S+3*E,3);u.itree[1+(u.ordr[E]<<1)]=F,F>R&&(R=F)}S+=3*b,c(u.itree,R),f(u.itree,R,u.imap),p=u.lmap,g=u.dmap,S=l(u.imap,(1<<R)-1,w+y,e,S,u.ttree);var U=i._copyOut(u.ttree,0,w,u.ltree);A=(1<<U)-1;var M=i._copyOut(u.ttree,w,y,u.dtree);x=(1<<M)-1,c(u.ltree,U),f(u.ltree,U,p),c(u.dtree,M),f(u.dtree,M,g)}for(;;){var z=p[h(e,S)&A];S+=15&z;var P=z>>>4;if(P>>>8==0)r[C++]=P;else{if(256==P)break;var _=C+P-254;if(P>264){var D=u.ldef[P-257];_=C+(D>>>3)+s(e,S,7&D),S+=7&D}var I=g[h(e,S)&x];S+=15&I;var T=I>>>4,B=u.ddef[T],O=(B>>>4)+a(e,S,15&B);for(S+=15&B,d&&(r=o.F._check(r,C+131072));C<_;)r[C]=r[C++-O],r[C]=r[C++-O],r[C]=r[C++-O],r[C]=r[C++-O];C=_}}}else{0!=(7&S)&&(S+=8-(7&S));var L=4+(S>>>3),k=e[L-4]|e[L-3]<<8;d&&(r=o.F._check(r,C+k)),r.set(new n(e.buffer,e.byteOffset+L,k),C),S=L+k<<3,C+=k}return r.length==C?r:r.slice(0,C)},o.F._check=function(e,r){var n=e.length;if(r<=n)return e;var i=new Uint8Array(Math.max(n<<1,r));return i.set(e,0),i},o.F._decodeTiny=function(e,r,n,i,a,s){for(var l=o.F._bitsE,c=o.F._get17,f=0;f<n;){var h=e[c(i,a)&r];a+=15&h;var u=h>>>4;if(u<=15)s[f]=u,f++;else{var d=0,p=0;16==u?(p=3+l(i,a,2),a+=2,d=s[f-1]):17==u?(p=3+l(i,a,3),a+=3):18==u&&(p=11+l(i,a,7),a+=7);for(var g=f+p;f<g;)s[f]=d,f++}}return a},o.F._copyOut=function(e,r,n,i){for(var o=0,a=0,s=i.length>>>1;a<n;){var l=e[a+r];i[a<<1]=0,i[1+(a<<1)]=l,l>o&&(o=l),a++}for(;a<s;)i[a<<1]=0,i[1+(a<<1)]=0,a++;return o},o.F.makeCodes=function(e,r){for(var n,i,a,s,l=o.F.U,c=e.length,f=l.bl_count,h=0;h<=r;h++)f[h]=0;for(h=1;h<c;h+=2)f[e[h]]++;var u=l.next_code;for(n=0,f[0]=0,i=1;i<=r;i++)n=n+f[i-1]<<1,u[i]=n;for(a=0;a<c;a+=2)0!=(s=e[a+1])&&(e[a]=u[s],u[s]++)},o.F.codes2map=function(e,r,n){for(var i=e.length,a=o.F.U.rev15,s=0;s<i;s+=2)if(0!=e[s+1])for(var l=s>>1,c=e[s+1],f=l<<4|c,h=r-c,u=e[s]<<h,d=u+(1<<h);u!=d;)n[a[u]>>>15-r]=f,u++},o.F.revCodes=function(e,r){for(var n=o.F.U.rev15,i=15-r,a=0;a<e.length;a+=2){var s=e[a]<<r-e[a+1];e[a]=n[s]>>>i}},o.F._putsE=function(e,r,n){n<<=7&r;var i=r>>>3;e[i]|=n,e[i+1]|=n>>>8},o.F._putsF=function(e,r,n){n<<=7&r;var i=r>>>3;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},o.F._bitsE=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8)>>>(7&r)&(1<<n)-1},o.F._bitsF=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)&(1<<n)-1},o.F._get17=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)},o.F._get25=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16|e[3+(r>>>3)]<<24)>>>(7&r)},o.F.U=(n=Uint16Array,i=Uint32Array,{next_code:new n(16),bl_count:new n(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new n(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new n(512),fltree:[],fdmap:new n(32),fdtree:[],lmap:new n(32768),ltree:[],ttree:[],dmap:new n(32768),dtree:[],imap:new n(512),itree:[],rev15:new n(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new n(65536),prev:new n(32768)}),function(){for(var e=o.F.U,r=0;r<32768;r++){var n=r;n=(0xff00ff00&(n=(0xf0f0f0f0&(n=(0xcccccccc&(n=(0xaaaaaaaa&n)>>>1|(0x55555555&n)<<1))>>>2|(0x33333333&n)<<2))>>>4|(0xf0f0f0f&n)<<4))>>>8|(0xff00ff&n)<<8,e.rev15[r]=(n>>>16|n<<16)>>>17}function i(e,r,n){for(;0!=r--;)e.push(0,n)}for(r=0;r<32;r++)e.ldef[r]=e.of0[r]<<3|e.exb[r],e.ddef[r]=e.df0[r]<<4|e.dxb[r];i(e.fltree,144,8),i(e.fltree,112,9),i(e.fltree,24,7),i(e.fltree,8,8),o.F.makeCodes(e.fltree,9),o.F.codes2map(e.fltree,9,e.flmap),o.F.revCodes(e.fltree,9),i(e.fdtree,32,5),o.F.makeCodes(e.fdtree,5),o.F.codes2map(e.fdtree,5,e.fdmap),o.F.revCodes(e.fdtree,5),i(e.itree,19,0),i(e.ltree,286,0),i(e.dtree,30,0),i(e.ttree,320,0)}();var F=(a={__proto__:null,default:R},[R].forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(r){if("default"!==r&&!(r in a)){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(a,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})}),Object.freeze(a));let U=function(){let e,r,n;var i={nextZero(e,r){for(;0!=e[r];)r++;return r},readUshort:(e,r)=>e[r]<<8|e[r+1],writeUshort(e,r,n){e[r]=n>>8&255,e[r+1]=255&n},readUint:(e,r)=>0x1000000*e[r]+(e[r+1]<<16|e[r+2]<<8|e[r+3]),writeUint(e,r,n){e[r]=n>>24&255,e[r+1]=n>>16&255,e[r+2]=n>>8&255,e[r+3]=255&n},readASCII(e,r,n){let i="";for(let o=0;o<n;o++)i+=String.fromCharCode(e[r+o]);return i},writeASCII(e,r,n){for(let i=0;i<n.length;i++)e[r+i]=n.charCodeAt(i)},readBytes(e,r,n){let i=[];for(let o=0;o<n;o++)i.push(e[r+o]);return i},pad:e=>e.length<2?`0${e}`:e,readUTF8(e,r,n){let o,a="";for(let o=0;o<n;o++)a+=`%${i.pad(e[r+o].toString(16))}`;try{o=decodeURIComponent(a)}catch(o){return i.readASCII(e,r,n)}return o}};function o(e,r,n,o){let a=r*n,s=Math.ceil(r*c(o)/8),l=new Uint8Array(4*a),f=new Uint32Array(l.buffer),{ctype:h}=o,{depth:u}=o,d=i.readUshort;if(6==h){let r=a<<2;if(8==u)for(var p=0;p<r;p+=4)l[p]=e[p],l[p+1]=e[p+1],l[p+2]=e[p+2],l[p+3]=e[p+3];if(16==u)for(p=0;p<r;p++)l[p]=e[p<<1]}else if(2==h){let r=o.tabs.tRNS;if(null==r){if(8==u)for(p=0;p<a;p++){var g=3*p;f[p]=-0x1000000|e[g+2]<<16|e[g+1]<<8|e[g]}if(16==u)for(p=0;p<a;p++)g=6*p,f[p]=-0x1000000|e[g+4]<<16|e[g+2]<<8|e[g]}else{var m=r[0];let n=r[1],i=r[2];if(8==u)for(p=0;p<a;p++){var v=p<<2;g=3*p,f[p]=-0x1000000|e[g+2]<<16|e[g+1]<<8|e[g],e[g]==m&&e[g+1]==n&&e[g+2]==i&&(l[v+3]=0)}if(16==u)for(p=0;p<a;p++)v=p<<2,g=6*p,f[p]=-0x1000000|e[g+4]<<16|e[g+2]<<8|e[g],d(e,g)==m&&d(e,g+2)==n&&d(e,g+4)==i&&(l[v+3]=0)}}else if(3==h){let i=o.tabs.PLTE,c=o.tabs.tRNS,f=c?c.length:0;if(1==u)for(var w,y=0;y<n;y++){var b=y*s,A=y*r;for(p=0;p<r;p++){v=A+p<<2;var x=3*(w=e[b+(p>>3)]>>7-(7&p)&1);l[v]=i[x],l[v+1]=i[x+1],l[v+2]=i[x+2],l[v+3]=w<f?c[w]:255}}if(2==u)for(y=0;y<n;y++)for(b=y*s,A=y*r,p=0;p<r;p++)v=A+p<<2,x=3*(w=e[b+(p>>2)]>>6-((3&p)<<1)&3),l[v]=i[x],l[v+1]=i[x+1],l[v+2]=i[x+2],l[v+3]=w<f?c[w]:255;if(4==u)for(y=0;y<n;y++)for(b=y*s,A=y*r,p=0;p<r;p++)v=A+p<<2,x=3*(w=e[b+(p>>1)]>>4-((1&p)<<2)&15),l[v]=i[x],l[v+1]=i[x+1],l[v+2]=i[x+2],l[v+3]=w<f?c[w]:255;if(8==u)for(p=0;p<a;p++)v=p<<2,x=3*(w=e[p]),l[v]=i[x],l[v+1]=i[x+1],l[v+2]=i[x+2],l[v+3]=w<f?c[w]:255}else if(4==h){if(8==u)for(p=0;p<a;p++){v=p<<2;var C,S=e[C=p<<1];l[v]=S,l[v+1]=S,l[v+2]=S,l[v+3]=e[C+1]}if(16==u)for(p=0;p<a;p++)v=p<<2,S=e[C=p<<2],l[v]=S,l[v+1]=S,l[v+2]=S,l[v+3]=e[C+2]}else if(0==h)for(m=o.tabs.tRNS?o.tabs.tRNS:-1,y=0;y<n;y++){let n=y*s,i=y*r;if(1==u)for(var E=0;E<r;E++){var R=255*((S=255*(e[n+(E>>>3)]>>>7-(7&E)&1))!=255*m);f[i+E]=R<<24|S<<16|S<<8|S}else if(2==u)for(E=0;E<r;E++)R=255*((S=85*(e[n+(E>>>2)]>>>6-((3&E)<<1)&3))!=85*m),f[i+E]=R<<24|S<<16|S<<8|S;else if(4==u)for(E=0;E<r;E++)R=255*((S=17*(e[n+(E>>>1)]>>>4-((1&E)<<2)&15))!=17*m),f[i+E]=R<<24|S<<16|S<<8|S;else if(8==u)for(E=0;E<r;E++)R=255*((S=e[n+E])!=m),f[i+E]=R<<24|S<<16|S<<8|S;else if(16==u)for(E=0;E<r;E++)S=e[n+(E<<1)],R=255*(d(e,n+(E<<1))!=m),f[i+E]=R<<24|S<<16|S<<8|S}return l}function a(e,r,n,i){let o=new Uint8Array((Math.ceil(n*c(e)/8)+1+e.interlace)*i);return r=e.tabs.CgBI?l(r,o):s(r,o),0==e.interlace?r=f(r,e,0,n,i):1==e.interlace&&(r=function(e,r){let n=r.width,i=r.height,o=c(r),a=o>>3,s=Math.ceil(n*o/8),l=new Uint8Array(i*s),h=0,u=[0,0,4,0,2,0,1],d=[0,4,0,2,0,1,0],p=[8,8,8,4,4,2,2],g=[8,8,4,4,2,2,1],m=0;for(;m<7;){let c=p[m],w=g[m],y=0,b=0,A=u[m];for(;A<i;)A+=c,b++;let x=d[m];for(;x<n;)x+=w,y++;let C=Math.ceil(y*o/8);f(e,r,h,y,b);let S=0,E=u[m];for(;E<i;){let r=d[m],i=h+S*C<<3;for(;r<n;){var v;if(1==o&&(v=(v=e[i>>3])>>7-(7&i)&1,l[E*s+(r>>3)]|=v<<7-(7&r)),2==o&&(v=(v=e[i>>3])>>6-(7&i)&3,l[E*s+(r>>2)]|=v<<6-((3&r)<<1)),4==o&&(v=(v=e[i>>3])>>4-(7&i)&15,l[E*s+(r>>1)]|=v<<4-((1&r)<<2)),o>=8){let n=E*s+r*a;for(let r=0;r<a;r++)l[n+r]=e[(i>>3)+r]}i+=o,r+=w}S++,E+=c}y*b!=0&&(h+=b*(1+C)),m+=1}return l}(r,e)),r}function s(e,r){return l(new Uint8Array(e.buffer,2,e.length-6),r)}var l=((e={}).N=function(r,n){let i=Uint8Array,o,a,s=0,l=0,c=0,f=0,h=0,u=0,d=0,p=0,g=0;if(3==r[0]&&0==r[1])return n||new i(0);let m=e.b,v=e.e,w=e.R,y=e.n,b=e.A,A=e.Z,x=e.m,C=null==n;for(C&&(n=new i(r.length>>>2<<5));0==s;)if(s=m(r,g,1),l=m(r,g+1,2),g+=3,0!=l){if(C&&(n=e.W(n,p+131072)),1==l&&(o=x.J,a=x.h,u=511,d=31),2==l){c=v(r,g,5)+257,f=v(r,g+5,5)+1,h=v(r,g+10,4)+4,g+=14;let n=1;for(var S=0;S<38;S+=2)x.Q[S]=0,x.Q[S+1]=0;for(S=0;S<h;S++){let e=v(r,g+3*S,3);x.Q[1+(x.X[S]<<1)]=e,e>n&&(n=e)}g+=3*h,y(x.Q,n),b(x.Q,n,x.u),o=x.w,a=x.d,g=w(x.u,(1<<n)-1,c+f,r,g,x.v);let i=e.V(x.v,0,c,x.C);u=(1<<i)-1;let s=e.V(x.v,c,f,x.D);d=(1<<s)-1,y(x.C,i),b(x.C,i,o),y(x.D,s),b(x.D,s,a)}for(;;){let e=o[A(r,g)&u];g+=15&e;let i=e>>>4;if(i>>>8==0)n[p++]=i;else{if(256==i)break;{let e=p+i-254;if(i>264){let n=x.q[i-257];e=p+(n>>>3)+v(r,g,7&n),g+=7&n}let o=a[A(r,g)&d];g+=15&o;let s=o>>>4,l=x.c[s],c=(l>>>4)+m(r,g,15&l);for(g+=15&l;p<e;)n[p]=n[p++-c],n[p]=n[p++-c],n[p]=n[p++-c],n[p]=n[p++-c];p=e}}}}else{0!=(7&g)&&(g+=8-(7&g));let o=4+(g>>>3),a=r[o-4]|r[o-3]<<8;C&&(n=e.W(n,p+a)),n.set(new i(r.buffer,r.byteOffset+o,a),p),g=o+a<<3,p+=a}return n.length==p?n:n.slice(0,p)},e.W=function(e,r){let n=e.length;if(r<=n)return e;let i=new Uint8Array(n<<1);return i.set(e,0),i},e.R=function(r,n,i,o,a,s){let l=e.e,c=e.Z,f=0;for(;f<i;){let e=r[c(o,a)&n];a+=15&e;let i=e>>>4;if(i<=15)s[f]=i,f++;else{let e=0,r=0;16==i?(r=3+l(o,a,2),a+=2,e=s[f-1]):17==i?(r=3+l(o,a,3),a+=3):18==i&&(r=11+l(o,a,7),a+=7);let n=f+r;for(;f<n;)s[f]=e,f++}}return a},e.V=function(e,r,n,i){let o=0,a=0,s=i.length>>>1;for(;a<n;){let n=e[a+r];i[a<<1]=0,i[1+(a<<1)]=n,n>o&&(o=n),a++}for(;a<s;)i[a<<1]=0,i[1+(a<<1)]=0,a++;return o},e.n=function(r,n){let i,o,a,s,l=e.m,c=r.length,f=l.j;for(var h=0;h<=n;h++)f[h]=0;for(h=1;h<c;h+=2)f[r[h]]++;let u=l.K;for(i=0,f[0]=0,o=1;o<=n;o++)i=i+f[o-1]<<1,u[o]=i;for(a=0;a<c;a+=2)0!=(s=r[a+1])&&(r[a]=u[s],u[s]++)},e.A=function(r,n,i){let o=r.length,a=e.m.r;for(let e=0;e<o;e+=2)if(0!=r[e+1]){let o=e>>1,s=r[e+1],l=o<<4|s,c=n-s,f=r[e]<<c,h=f+(1<<c);for(;f!=h;)i[a[f]>>>15-n]=l,f++}},e.l=function(r,n){let i=e.m.r,o=15-n;for(let e=0;e<r.length;e+=2){let a=r[e]<<n-r[e+1];r[e]=i[a]>>>o}},e.M=function(e,r,n){n<<=7&r;let i=r>>>3;e[i]|=n,e[i+1]|=n>>>8},e.I=function(e,r,n){n<<=7&r;let i=r>>>3;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},e.e=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8)>>>(7&r)&(1<<n)-1},e.b=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)&(1<<n)-1},e.Z=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)},e.i=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16|e[3+(r>>>3)]<<24)>>>(7&r)},r=Uint16Array,n=Uint32Array,e.m={K:new r(16),j:new r(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new r(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new r(512),_:[],h:new r(32),$:[],w:new r(32768),C:[],v:[],d:new r(32768),D:[],u:new r(512),Q:[],r:new r(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new r(65536),g:new r(32768)},function(){let r=e.m;for(var n=0;n<32768;n++){let e=n;e=(0xff00ff00&(e=(0xf0f0f0f0&(e=(0xcccccccc&(e=(0xaaaaaaaa&e)>>>1|(0x55555555&e)<<1))>>>2|(0x33333333&e)<<2))>>>4|(0xf0f0f0f&e)<<4))>>>8|(0xff00ff&e)<<8,r.r[n]=(e>>>16|e<<16)>>>17}function i(e,r,n){for(;0!=r--;)e.push(0,n)}for(n=0;n<32;n++)r.q[n]=r.S[n]<<3|r.T[n],r.c[n]=r.p[n]<<4|r.z[n];i(r._,144,8),i(r._,112,9),i(r._,24,7),i(r._,8,8),e.n(r._,9),e.A(r._,9,r.J),e.l(r._,9),i(r.$,32,5),e.n(r.$,5),e.A(r.$,5,r.h),e.l(r.$,5),i(r.Q,19,0),i(r.C,286,0),i(r.D,30,0),i(r.v,320,0)}(),e.N);function c(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function f(e,r,n,i,o){let a,s,l=c(r),f=Math.ceil(i*l/8);l=Math.ceil(l/8);let u=e[n],d=0;if(u>1&&(e[n]=[0,0,1][u-2]),3==u)for(d=l;d<f;d++)e[d+1]=e[d+1]+(e[d+1-l]>>>1)&255;for(let r=0;r<o;r++)if(u=e[(s=(a=n+r*f)+r+1)-1],d=0,0==u)for(;d<f;d++)e[a+d]=e[s+d];else if(1==u){for(;d<l;d++)e[a+d]=e[s+d];for(;d<f;d++)e[a+d]=e[s+d]+e[a+d-l]}else if(2==u)for(;d<f;d++)e[a+d]=e[s+d]+e[a+d-f];else if(3==u){for(;d<l;d++)e[a+d]=e[s+d]+(e[a+d-f]>>>1);for(;d<f;d++)e[a+d]=e[s+d]+(e[a+d-f]+e[a+d-l]>>>1)}else{for(;d<l;d++)e[a+d]=e[s+d]+h(0,e[a+d-f],0);for(;d<f;d++)e[a+d]=e[s+d]+h(e[a+d-l],e[a+d-f],e[a+d-l-f])}return e}function h(e,r,n){let i=e+r-n,o=i-e,a=i-r,s=i-n;return o*o<=a*a&&o*o<=s*s?e:a*a<=s*s?r:n}function u(e,r,n,i,o,a,s,l,c){let f=Math.min(r,o),h=Math.min(n,a),u=0,d=0;for(let n=0;n<h;n++)for(let a=0;a<f;a++)if(s>=0&&l>=0?(u=n*r+a<<2,d=(l+n)*o+s+a<<2):(u=(-l+n)*r-s+a<<2,d=n*o+a<<2),0==c)i[d]=e[u],i[d+1]=e[u+1],i[d+2]=e[u+2],i[d+3]=e[u+3];else if(1==c){var p=e[u+3]*(1/255),g=e[u]*p,m=e[u+1]*p,v=e[u+2]*p,w=i[d+3]*(1/255),y=i[d]*w,b=i[d+1]*w,A=i[d+2]*w;let r=1-p,n=p+w*r,o=0==n?0:1/n;i[d+3]=255*n,i[d+0]=(g+y*r)*o,i[d+1]=(m+b*r)*o,i[d+2]=(v+A*r)*o}else if(2==c)p=e[u+3],g=e[u],m=e[u+1],v=e[u+2],w=i[d+3],y=i[d],b=i[d+1],A=i[d+2],p==w&&g==y&&m==b&&v==A?(i[d]=0,i[d+1]=0,i[d+2]=0,i[d+3]=0):(i[d]=g,i[d+1]=m,i[d+2]=v,i[d+3]=p);else if(3==c){if(p=e[u+3],g=e[u],m=e[u+1],v=e[u+2],w=i[d+3],y=i[d],b=i[d+1],A=i[d+2],p==w&&g==y&&m==b&&v==A)continue;if(p<220&&w>20)return!1}return!0}return{decode:function(e){let r=new Uint8Array(e),n=8,o=i.readUshort,c=i.readUint,f={tabs:{},frames:[]},h=new Uint8Array(r.length),u,d=0,p=0,g=[137,80,78,71,13,10,26,10];for(var m,v=0;v<8;v++)if(r[v]!=g[v])throw"The input is not a PNG file!";for(;n<r.length;){let e=i.readUint(r,n);n+=4;let g=i.readASCII(r,n,4);if(n+=4,"IHDR"==g)w=n,f.width=i.readUint(r,w),w+=4,f.height=i.readUint(r,w),f.depth=r[w+=4],f.ctype=r[++w],f.compress=r[++w],f.filter=r[++w],f.interlace=r[++w],w++;else if("iCCP"==g){for(var w,y,b=n;0!=r[b];)b++;i.readASCII(r,n,b-n),r[b+1];let o=r.slice(b+2,n+e),a=null;try{a=s(o)}catch(e){a=l(o)}f.tabs[g]=a}else if("CgBI"==g)f.tabs[g]=r.slice(n,n+4);else if("IDAT"==g){for(v=0;v<e;v++)h[d+v]=r[n+v];d+=e}else if("acTL"==g)f.tabs[g]={num_frames:c(r,n),num_plays:c(r,n+4)},u=new Uint8Array(r.length);else if("fcTL"==g){0!=p&&((m=f.frames[f.frames.length-1]).data=a(f,u.slice(0,p),m.rect.width,m.rect.height),p=0);let e={x:c(r,n+12),y:c(r,n+16),width:c(r,n+4),height:c(r,n+8)},i=o(r,n+22),s={rect:e,delay:Math.round(1e3*(i=o(r,n+20)/(0==i?100:i))),dispose:r[n+24],blend:r[n+25]};f.frames.push(s)}else if("fdAT"==g){for(v=0;v<e-4;v++)u[p+v]=r[n+v+4];p+=e-4}else if("pHYs"==g)f.tabs[g]=[i.readUint(r,n),i.readUint(r,n+4),r[n+8]];else if("cHRM"==g)for(v=0,f.tabs[g]=[];v<8;v++)f.tabs[g].push(i.readUint(r,n+4*v));else if("tEXt"==g||"zTXt"==g){null==f.tabs[g]&&(f.tabs[g]={});var A=i.nextZero(r,n),x=i.readASCII(r,n,A-n),C=n+e-A-1;if("tEXt"==g)y=i.readASCII(r,A+1,C);else{var S=s(r.slice(A+2,A+2+C));y=i.readUTF8(S,0,S.length)}f.tabs[g][x]=y}else if("iTXt"==g){null==f.tabs[g]&&(f.tabs[g]={}),A=0,b=n,A=i.nextZero(r,b),x=i.readASCII(r,b,A-b);let o=r[b=A+1];r[b+1],b+=2,A=i.nextZero(r,b),i.readASCII(r,b,A-b),b=A+1,A=i.nextZero(r,b),i.readUTF8(r,b,A-b),C=e-((b=A+1)-n),0==o?y=i.readUTF8(r,b,C):(S=s(r.slice(b,b+C)),y=i.readUTF8(S,0,S.length)),f.tabs[g][x]=y}else if("PLTE"==g)f.tabs[g]=i.readBytes(r,n,e);else if("hIST"==g){let e=f.tabs.PLTE.length/3;for(v=0,f.tabs[g]=[];v<e;v++)f.tabs[g].push(o(r,n+2*v))}else if("tRNS"==g)3==f.ctype?f.tabs[g]=i.readBytes(r,n,e):0==f.ctype?f.tabs[g]=o(r,n):2==f.ctype&&(f.tabs[g]=[o(r,n),o(r,n+2),o(r,n+4)]);else if("gAMA"==g)f.tabs[g]=i.readUint(r,n)/1e5;else if("sRGB"==g)f.tabs[g]=r[n];else if("bKGD"==g)0==f.ctype||4==f.ctype?f.tabs[g]=[o(r,n)]:2==f.ctype||6==f.ctype?f.tabs[g]=[o(r,n),o(r,n+2),o(r,n+4)]:3==f.ctype&&(f.tabs[g]=r[n]);else if("IEND"==g)break;n+=e,i.readUint(r,n),n+=4}return 0!=p&&((m=f.frames[f.frames.length-1]).data=a(f,u.slice(0,p),m.rect.width,m.rect.height)),f.data=a(f,h,f.width,f.height),delete f.compress,delete f.interlace,delete f.filter,f},toRGBA8:function(e){let r=e.width,n=e.height;if(null==e.tabs.acTL)return[o(e.data,r,n,e).buffer];let i=[];null==e.frames[0].data&&(e.frames[0].data=e.data);let a=r*n*4,s=new Uint8Array(a),l=new Uint8Array(a),c=new Uint8Array(a);for(let h=0;h<e.frames.length;h++){let d=e.frames[h],p=d.rect.x,g=d.rect.y,m=d.rect.width,v=d.rect.height,w=o(d.data,m,v,e);if(0!=h)for(var f=0;f<a;f++)c[f]=s[f];if(0==d.blend?u(w,m,v,s,r,n,p,g,0):1==d.blend&&u(w,m,v,s,r,n,p,g,1),i.push(s.buffer.slice(0)),0==d.dispose);else if(1==d.dispose)u(l,m,v,s,r,n,p,g,0);else if(2==d.dispose)for(f=0;f<a;f++)s[f]=c[f]}return i},_paeth:h,_copyTile:u,_bin:i}}();!function(){let{_copyTile:e}=U,{_bin:r}=U,n=U._paeth;var i={table:function(){let e=new Uint32Array(256);for(let r=0;r<256;r++){let n=r;for(let e=0;e<8;e++)1&n?n=0xedb88320^n>>>1:n>>>=1;e[r]=n}return e}(),update(e,r,n,o){for(let a=0;a<o;a++)e=i.table[255&(e^r[n+a])]^e>>>8;return e},crc:(e,r,n)=>0xffffffff^i.update(0xffffffff,e,r,n)};function o(e,r,n,i){r[n]+=e[0]*i>>4,r[n+1]+=e[1]*i>>4,r[n+2]+=e[2]*i>>4,r[n+3]+=e[3]*i>>4}function a(e){return Math.max(0,Math.min(255,e))}function s(e,r){let n=e[0]-r[0],i=e[1]-r[1],o=e[2]-r[2],a=e[3]-r[3];return n*n+i*i+o*o+a*a}function l(e,r,n,i,l,c,f){null==f&&(f=1);let h=i.length,u=[];for(var d,p=0;p<h;p++){let e=i[p];u.push([e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255])}for(p=0;p<h;p++){let e=0xffffffff;for(var g=0,m=0;m<h;m++){var v=s(u[p],u[m]);m!=p&&v<e&&(e=v,g=m)}}let w=new Uint32Array(l.buffer),y=new Int16Array(r*n*4),b=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(p=0;p<b.length;p++)b[p]=255*((b[p]+.5)/16-.5);for(let l=0;l<n;l++)for(let A=0;A<r;A++){p=4*(l*r+A),2!=f?d=[a(e[p]+y[p]),a(e[p+1]+y[p+1]),a(e[p+2]+y[p+2]),a(e[p+3]+y[p+3])]:(v=b[4*(3&l)+(3&A)],d=[a(e[p]+v),a(e[p+1]+v),a(e[p+2]+v),a(e[p+3]+v)]),g=0;let x=0xffffff;for(m=0;m<h;m++){let e=s(d,u[m]);e<x&&(x=e,g=m)}let C=u[g],S=[d[0]-C[0],d[1]-C[1],d[2]-C[2],d[3]-C[3]];1==f&&(A!=r-1&&o(S,y,p+4,7),l!=n-1&&(0!=A&&o(S,y,p+4*r-4,3),o(S,y,p+4*r,5),A!=r-1&&o(S,y,p+4*r+4,1))),c[p>>2]=g,w[p>>2]=i[g]}}function c(e,n,o,a,s){null==s&&(s={});let{crc:l}=i,c=r.writeUint,f=r.writeUshort,h=r.writeASCII,u=8,d=e.frames.length>1,p,g=!1,m=33+20*!!d;if(null!=s.sRGB&&(m+=13),null!=s.pHYs&&(m+=21),null!=s.iCCP&&(m+=21+(p=pako.deflate(s.iCCP)).length+4),3==e.ctype){for(var v=e.plte.length,w=0;w<v;w++)e.plte[w]>>>24!=255&&(g=!0);m+=8+3*v+4+(g?8+ +v+4:0)}for(var y=0;y<e.frames.length;y++)d&&(m+=38),m+=(C=e.frames[y]).cimg.length+12,0!=y&&(m+=4);let b=new Uint8Array(m+=12),A=[137,80,78,71,13,10,26,10];for(w=0;w<8;w++)b[w]=A[w];if(c(b,u,13),h(b,u+=4,"IHDR"),c(b,u+=4,n),c(b,u+=4,o),b[u+=4]=e.depth,b[++u]=e.ctype,b[++u]=0,b[++u]=0,b[++u]=0,c(b,++u,l(b,u-17,17)),u+=4,null!=s.sRGB&&(c(b,u,1),h(b,u+=4,"sRGB"),b[u+=4]=s.sRGB,c(b,++u,l(b,u-5,5)),u+=4),null!=s.iCCP){let e=13+p.length;c(b,u,e),h(b,u+=4,"iCCP"),h(b,u+=4,"ICC profile"),u+=11,u+=2,b.set(p,u),c(b,u+=p.length,l(b,u-(e+4),e+4)),u+=4}if(null!=s.pHYs&&(c(b,u,9),h(b,u+=4,"pHYs"),c(b,u+=4,s.pHYs[0]),c(b,u+=4,s.pHYs[1]),b[u+=4]=s.pHYs[2],c(b,++u,l(b,u-13,13)),u+=4),d&&(c(b,u,8),h(b,u+=4,"acTL"),c(b,u+=4,e.frames.length),c(b,u+=4,null!=s.loop?s.loop:0),c(b,u+=4,l(b,u-12,12)),u+=4),3==e.ctype){for(c(b,u,3*(v=e.plte.length)),h(b,u+=4,"PLTE"),u+=4,w=0;w<v;w++){let r=3*w,n=e.plte[w],i=255&n,o=n>>>8&255,a=n>>>16&255;b[u+r+0]=i,b[u+r+1]=o,b[u+r+2]=a}if(c(b,u+=3*v,l(b,u-3*v-4,3*v+4)),u+=4,g){for(c(b,u,v),h(b,u+=4,"tRNS"),u+=4,w=0;w<v;w++)b[u+w]=e.plte[w]>>>24&255;c(b,u+=v,l(b,u-v-4,v+4)),u+=4}}let x=0;for(y=0;y<e.frames.length;y++){var C=e.frames[y];d&&(c(b,u,26),h(b,u+=4,"fcTL"),c(b,u+=4,x++),c(b,u+=4,C.rect.width),c(b,u+=4,C.rect.height),c(b,u+=4,C.rect.x),c(b,u+=4,C.rect.y),f(b,u+=4,a[y]),f(b,u+=2,1e3),b[u+=2]=C.dispose,b[++u]=C.blend,c(b,++u,l(b,u-30,30)),u+=4);let r=C.cimg;c(b,u,(v=r.length)+4*(0!=y));let n=u+=4;h(b,u,0==y?"IDAT":"fdAT"),u+=4,0!=y&&(c(b,u,x++),u+=4),b.set(r,u),c(b,u+=v,l(b,n,u-n)),u+=4}return c(b,u,0),h(b,u+=4,"IEND"),c(b,u+=4,l(b,u-4,4)),u+=4,b.buffer}function f(e,r,i){for(let o=0;o<e.frames.length;o++){let a=e.frames[o];a.rect.width;let s=a.rect.height,l=new Uint8Array(s*a.bpl+s);a.cimg=function(e,r,i,o,a,s,l){let c=[],f,h=[0,1,2,3,4];-1!=s?h=[s]:(r*o>5e5||1==i)&&(h=[0]),l&&(f={level:0});for(var u=0;u<h.length;u++){for(let s=0;s<r;s++)!function(e,r,i,o,a,s){let l=i*o,c=l+i;if(e[c]=s,c++,0==s)if(o<500)for(var f=0;f<o;f++)e[c+f]=r[l+f];else e.set(new Uint8Array(r.buffer,l,o),c);else if(1==s){for(f=0;f<a;f++)e[c+f]=r[l+f];for(f=a;f<o;f++)e[c+f]=r[l+f]-r[l+f-a]+256&255}else if(0==i){for(f=0;f<a;f++)e[c+f]=r[l+f];if(2==s)for(f=a;f<o;f++)e[c+f]=r[l+f];if(3==s)for(f=a;f<o;f++)e[c+f]=r[l+f]-(r[l+f-a]>>1)+256&255;if(4==s)for(f=a;f<o;f++)e[c+f]=r[l+f]-n(r[l+f-a],0,0)+256&255}else{if(2==s)for(f=0;f<o;f++)e[c+f]=r[l+f]+256-r[l+f-o]&255;if(3==s){for(f=0;f<a;f++)e[c+f]=r[l+f]+256-(r[l+f-o]>>1)&255;for(f=a;f<o;f++)e[c+f]=r[l+f]+256-(r[l+f-o]+r[l+f-a]>>1)&255}if(4==s){for(f=0;f<a;f++)e[c+f]=r[l+f]+256-n(0,r[l+f-o],0)&255;for(f=a;f<o;f++)e[c+f]=r[l+f]+256-n(r[l+f-a],r[l+f-o],r[l+f-a-o])&255}}}(a,e,s,o,i,h[u]);c.push(F.deflate(a,f))}let d,p=1e9;for(u=0;u<c.length;u++)c[u].length<p&&(d=u,p=c[u].length);return c[d]}(a.img,s,a.bpp,a.bpl,l,r,i)}}function h(r,n,i,o,a){let s=a[0],c=a[1],f=a[2],h=a[3],g=a[4],m=a[5],v=6,w=8,y=255;for(var b=0;b<r.length;b++){let e=new Uint8Array(r[b]);for(var A=e.length,x=0;x<A;x+=4)y&=e[x+3]}let C=255!=y,S=function(r,n,i,o,a,s){let l=[];for(var c,f=0;f<r.length;f++){let c=new Uint8Array(r[f]),u=new Uint32Array(c.buffer),m=0,v=0,w=n,y=i,b=+!!o;if(0!=f){let A=s||o||1==f||0!=l[f-2].dispose?1:2,x=0,C=1e9;for(let e=0;e<A;e++){var h,p=new Uint8Array(r[f-1-e]);let o=new Uint32Array(r[f-1-e]),s=n,l=i,c=-1,d=-1;for(let e=0;e<i;e++)for(let r=0;r<n;r++)u[g=e*n+r]!=o[g]&&(r<s&&(s=r),r>c&&(c=r),e<l&&(l=e),e>d&&(d=e));-1==c&&(s=l=c=d=0),a&&(1==(1&s)&&s--,1==(1&l)&&l--);let b=(c-s+1)*(d-l+1);b<C&&(C=b,x=e,m=s,v=l,w=c-s+1,y=d-l+1)}p=new Uint8Array(r[f-1-x]),1==x&&(l[f-1].dispose=2),e(p,n,i,h=new Uint8Array(w*y*4),w,y,-m,-v,0),1==(b=+!!e(c,n,i,h,w,y,-m,-v,3))?d(c,n,i,h,{x:m,y:v,width:w,height:y}):e(c,n,i,h,w,y,-m,-v,0)}else h=c.slice(0);l.push({rect:{x:m,y:v,width:w,height:y},img:h,blend:b,dispose:0})}if(o)for(f=0;f<l.length;f++){if(1==(c=l[f]).blend)continue;let e=c.rect,o=l[f-1].rect,s=Math.min(e.x,o.x),h=Math.min(e.y,o.y),d={x:s,y:h,width:Math.max(e.x+e.width,o.x+o.width)-s,height:Math.max(e.y+e.height,o.y+o.height)-h};l[f-1].dispose=1,f-1!=0&&u(r,n,i,l,f-1,d,a),u(r,n,i,l,f,d,a)}if(1!=r.length)for(var g=0;g<l.length;g++)(c=l[g]).rect.width,c.rect.height;return l}(r,n,i,s,c,f),E={},R=[],F=[];if(0!=o){let e=[];for(x=0;x<S.length;x++)e.push(S[x].img.buffer);let r=p(function(e){let r=0;for(var n=0;n<e.length;n++)r+=e[n].byteLength;let i=new Uint8Array(r),o=0;for(n=0;n<e.length;n++){let r=new Uint8Array(e[n]),a=r.length;for(let e=0;e<a;e+=4){let n=r[e],a=r[e+1],s=r[e+2],l=r[e+3];0==l&&(n=a=s=0),i[o+e]=n,i[o+e+1]=a,i[o+e+2]=s,i[o+e+3]=l}o+=a}return i.buffer}(e),o);for(x=0;x<r.plte.length;x++)R.push(r.plte[x].est.rgba);let n=0;for(x=0;x<S.length;x++){let e=(M=S[x]).img.length;var U=new Uint8Array(r.inds.buffer,n>>2,e>>2);F.push(U);let i=new Uint8Array(r.abuf,n,e);m&&l(M.img,M.rect.width,M.rect.height,R,i,U),M.img.set(i),n+=e}}else for(b=0;b<S.length;b++){var M=S[b];let e=new Uint32Array(M.img.buffer);var z=M.rect.width;for(U=new Uint8Array(A=e.length),F.push(U),x=0;x<A;x++){let r=e[x];if(0!=x&&r==e[x-1])U[x]=U[x-1];else if(x>z&&r==e[x-z])U[x]=U[x-z];else{let e=E[r];if(null==e&&(E[r]=e=R.length,R.push(r),R.length>=300))break;U[x]=e}}}let P=R.length;for(P<=256&&0==g&&(w=Math.max(w=P<=2?1:P<=4?2:P<=16?4:8,h)),b=0;b<S.length;b++){(M=S[b]).rect.x,M.rect.y,z=M.rect.width;let e=M.rect.height,r=M.img;new Uint32Array(r.buffer);let n=4*z,i=4;if(P<=256&&0==g){var _=new Uint8Array((n=Math.ceil(w*z/8))*e);let o=F[b];for(let r=0;r<e;r++){x=r*n;let e=r*z;if(8==w)for(var D=0;D<z;D++)_[x+D]=o[e+D];else if(4==w)for(D=0;D<z;D++)_[x+(D>>1)]|=o[e+D]<<4-4*(1&D);else if(2==w)for(D=0;D<z;D++)_[x+(D>>2)]|=o[e+D]<<6-2*(3&D);else if(1==w)for(D=0;D<z;D++)_[x+(D>>3)]|=o[e+D]<<7-(7&D)}r=_,v=3,i=1}else if(0==C&&1==S.length){_=new Uint8Array(z*e*3);let o=z*e;for(x=0;x<o;x++){let e=3*x,n=4*x;_[e]=r[n],_[e+1]=r[n+1],_[e+2]=r[n+2]}r=_,v=2,i=3,n=3*z}M.img=r,M.bpl=n,M.bpp=i}return{ctype:v,depth:w,plte:R,frames:S}}function u(r,n,i,o,a,s,l){let c=Uint8Array,f=Uint32Array,h=new c(r[a-1]),u=new f(r[a-1]),p=a+1<r.length?new c(r[a+1]):null,g=new c(r[a]),m=new f(g.buffer),v=n,w=i,y=-1,b=-1;for(let e=0;e<s.height;e++)for(let r=0;r<s.width;r++){let i=s.x+r,l=s.y+e,c=l*n+i,f=m[c];0==f||0==o[a-1].dispose&&u[c]==f&&(null==p||0!=p[4*c+3])||(i<v&&(v=i),i>y&&(y=i),l<w&&(w=l),l>b&&(b=l))}-1==y&&(v=w=y=b=0),l&&(1==(1&v)&&v--,1==(1&w)&&w--),s={x:v,y:w,width:y-v+1,height:b-w+1};let A=o[a];A.rect=s,A.blend=1,A.img=new Uint8Array(s.width*s.height*4),0==o[a-1].dispose?(e(h,n,i,A.img,s.width,s.height,-s.x,-s.y,0),d(g,n,i,A.img,s)):e(g,n,i,A.img,s.width,s.height,-s.x,-s.y,0)}function d(r,n,i,o,a){e(r,n,i,o,a.width,a.height,-a.x,-a.y,2)}function p(e,r){let n,i=new Uint8Array(e),o=i.slice(0),a=new Uint32Array(o.buffer),s=g(o,r),l=s[0],c=s[1],f=i.length,h=new Uint8Array(f>>2);if(i.length<2e7)for(var u=0;u<f;u+=4)n=m(l,d=i[u]*(1/255),p=i[u+1]*(1/255),w=i[u+2]*(1/255),y=i[u+3]*(1/255)),h[u>>2]=n.ind,a[u>>2]=n.est.rgba;else for(u=0;u<f;u+=4){var d=i[u]*(1/255),p=i[u+1]*(1/255),w=i[u+2]*(1/255),y=i[u+3]*(1/255);for(n=l;n.left;)n=0>=v(n.est,d,p,w,y)?n.left:n.right;h[u>>2]=n.ind,a[u>>2]=n.est.rgba}return{abuf:o.buffer,inds:h,plte:c}}function g(e,r,n){null==n&&(n=1e-4);let i=new Uint32Array(e.buffer),o={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};o.bst=y(e,o.i0,o.i1),o.est=b(o.bst);let a=[o];for(;a.length<r;){let r=0,o=0;for(var s=0;s<a.length;s++)a[s].est.L>r&&(r=a[s].est.L,o=s);if(r<n)break;let l=a[o],c=function(e,r,n,i,o,a){for(i-=4;n<i;){for(;w(e,n,o)<=a;)n+=4;for(;w(e,i,o)>a;)i-=4;if(n>=i)break;let s=r[n>>2];r[n>>2]=r[i>>2],r[i>>2]=s,n+=4,i-=4}for(;w(e,n,o)>a;)n-=4;return n+4}(e,i,l.i0,l.i1,l.est.e,l.est.eMq255);if(l.i0>=c||l.i1<=c){l.est.L=0;continue}let f={i0:l.i0,i1:c,bst:null,est:null,tdst:0,left:null,right:null};f.bst=y(e,f.i0,f.i1),f.est=b(f.bst);let h={i0:c,i1:l.i1,bst:null,est:null,tdst:0,left:null,right:null};for(s=0,h.bst={R:[],m:[],N:l.bst.N-f.bst.N};s<16;s++)h.bst.R[s]=l.bst.R[s]-f.bst.R[s];for(s=0;s<4;s++)h.bst.m[s]=l.bst.m[s]-f.bst.m[s];h.est=b(h.bst),l.left=f,l.right=h,a[o]=f,a.push(h)}for(a.sort((e,r)=>r.bst.N-e.bst.N),s=0;s<a.length;s++)a[s].ind=s;return[o,a]}function m(e,r,n,i,o){if(null==e.left){var a;let s,l,c,f;return a=e.est.q,s=r-a[0],l=n-a[1],c=i-a[2],e.tdst=s*s+l*l+c*c+(f=o-a[3])*f,e}let s=v(e.est,r,n,i,o),l=e.left,c=e.right;s>0&&(l=e.right,c=e.left);let f=m(l,r,n,i,o);if(f.tdst<=s*s)return f;let h=m(c,r,n,i,o);return h.tdst<f.tdst?h:f}function v(e,r,n,i,o){let{e:a}=e;return a[0]*r+a[1]*n+a[2]*i+a[3]*o-e.eMq}function w(e,r,n){return e[r]*n[0]+e[r+1]*n[1]+e[r+2]*n[2]+e[r+3]*n[3]}function y(e,r,n){let i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=[0,0,0,0];for(let a=r;a<n;a+=4){let r=e[a]*(1/255),n=e[a+1]*(1/255),s=e[a+2]*(1/255),l=e[a+3]*(1/255);o[0]+=r,o[1]+=n,o[2]+=s,o[3]+=l,i[0]+=r*r,i[1]+=r*n,i[2]+=r*s,i[3]+=r*l,i[5]+=n*n,i[6]+=n*s,i[7]+=n*l,i[10]+=s*s,i[11]+=s*l,i[15]+=l*l}return i[4]=i[1],i[8]=i[2],i[9]=i[6],i[12]=i[3],i[13]=i[7],i[14]=i[11],{R:i,m:o,N:n-r>>2}}function b(e){let{R:r}=e,{m:n}=e,{N:i}=e,o=n[0],a=n[1],s=n[2],l=n[3],c=0==i?0:1/i,f=[r[0]-o*o*c,r[1]-o*a*c,r[2]-o*s*c,r[3]-o*l*c,r[4]-a*o*c,r[5]-a*a*c,r[6]-a*s*c,r[7]-a*l*c,r[8]-s*o*c,r[9]-s*a*c,r[10]-s*s*c,r[11]-s*l*c,r[12]-l*o*c,r[13]-l*a*c,r[14]-l*s*c,r[15]-l*l*c],h=[Math.random(),Math.random(),Math.random(),Math.random()],u=0,d=0;if(0!=i)for(let e=0;e<16&&(h=A.multVec(f,h),d=Math.sqrt(A.dot(h,h)),h=A.sml(1/d,h),!(0!=e&&1e-9>Math.abs(d-u)));e++)u=d;let p=[o*c,a*c,s*c,l*c];return{Cov:f,q:p,e:h,L:u,eMq255:A.dot(A.sml(255,p),h),eMq:A.dot(h,p),rgba:(Math.round(255*p[3])<<24|Math.round(255*p[2])<<16|Math.round(255*p[1])<<8|(0|Math.round(255*p[0])))>>>0}}var A={multVec:(e,r)=>[e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3],e[4]*r[0]+e[5]*r[1]+e[6]*r[2]+e[7]*r[3],e[8]*r[0]+e[9]*r[1]+e[10]*r[2]+e[11]*r[3],e[12]*r[0]+e[13]*r[1]+e[14]*r[2]+e[15]*r[3]],dot:(e,r)=>e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3],sml:(e,r)=>[e*r[0],e*r[1],e*r[2],e*r[3]]};U.encode=function(e,r,n,i,o,a,s){null==i&&(i=0),null==s&&(s=!1);let l=h(e,r,n,i,[!1,!1,!1,0,s,!1]);return f(l,-1),c(l,r,n,o,a)},U.encodeLL=function(e,r,n,i,o,a,s,l){let h={ctype:0+2*(1!=i)+4*(0!=o),depth:a,frames:[]},u=(i+o)*a,d=u*r;for(let i=0;i<e.length;i++)h.frames.push({rect:{x:0,y:0,width:r,height:n},img:new Uint8Array(e[i]),blend:0,dispose:1,bpp:Math.ceil(u/8),bpl:Math.ceil(d/8)});return f(h,0,!0),c(h,r,n,s,l)},U.encode.compress=h,U.encode.dither=l,U.quantize=p,U.quantize.getKDtree=g,U.quantize.getNearest=m}();let M={toArrayBuffer(e,r){let n=e.width,i=e.height,o=n<<2,a=new Uint32Array(e.getContext("2d").getImageData(0,0,n,i).data.buffer),s=(32*n+31)/32<<2,l=s*i,c=122+l,f=new ArrayBuffer(c),h=new DataView(f),u,d,p,g,m=1048576,v=0,w=0,y=0;function b(e){h.setUint16(w,e,!0),w+=2}function A(e){h.setUint32(w,e,!0),w+=4}b(19778),A(c),w+=4,A(122),A(108),A(n),A(-i>>>0),b(1),b(32),A(3),A(l),A(2835),A(2835),w+=8,A(0xff0000),A(65280),A(255),A(0xff000000),A(0x57696e20),function e(){for(;v<i&&m>0;){for(g=122+v*s,u=0;u<o;)m--,p=(d=a[y++])>>>24,h.setUint32(g+u,d<<8|p),u+=4;v++}y<a.length?(m=1048576,setTimeout(e,M._dly)):r(f)}()},toBlob(e,r){this.toArrayBuffer(e,e=>{r(new Blob([e],{type:"image/bmp"}))})},_dly:9};var z={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},P={[z.CHROME]:16384,[z.FIREFOX]:11180,[z.DESKTOP_SAFARI]:16384,[z.IE]:8192,[z.IOS]:4096,[z.ETC]:8192};let _="u">typeof window,D="u">typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,I=_&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),T=(_||D)&&(I&&I.getOriginalSymbol(window,"File")||"u">typeof File&&File),B=(_||D)&&(I&&I.getOriginalSymbol(window,"FileReader")||"u">typeof FileReader&&FileReader);function O(e,r,n=Date.now()){return new Promise(i=>{let o=e.split(","),a=o[0].match(/:(.*?);/)[1],s=globalThis.atob(o[1]),l=s.length,c=new Uint8Array(l);for(;l--;)c[l]=s.charCodeAt(l);let f=new Blob([c],{type:a});f.name=r,f.lastModified=n,i(f)})}function L(e){return new Promise((r,n)=>{let i=new B;i.onload=()=>r(i.result),i.onerror=e=>n(e),i.readAsDataURL(e)})}function k(e){return new Promise((r,n)=>{let i=new Image;i.onload=()=>r(i),i.onerror=e=>n(e),i.src=e})}function j(){if(void 0!==j.cachedResult)return j.cachedResult;let e=z.ETC,{userAgent:r}=navigator;return/Chrom(e|ium)/i.test(r)?e=z.CHROME:/iP(ad|od|hone)/i.test(r)&&/WebKit/i.test(r)?e=z.IOS:/Safari/i.test(r)?e=z.DESKTOP_SAFARI:/Firefox/i.test(r)?e=z.FIREFOX:(/MSIE/i.test(r)||!0==!!document.documentMode)&&(e=z.IE),j.cachedResult=e,j.cachedResult}function N(e,r){let n=P[j()],i=e,o=r,a=i*o,s=i>o?o/i:i/o;for(;a>n*n;){let e=(n+i)/2,r=(n+o)/2;e<r?(o=r,i=r*s):(o=e*s,i=e),a=i*o}return{width:i,height:o}}function W(e,r){let n,i;try{if(i=(n=new OffscreenCanvas(e,r)).getContext("2d"),null===i)throw Error("getContext of OffscreenCanvas returns null")}catch(e){i=(n=document.createElement("canvas")).getContext("2d")}return n.width=e,n.height=r,[n,i]}function Q(e,r){let{width:n,height:i}=N(e.width,e.height),[o,a]=W(n,i);return r&&/jpe?g/.test(r)&&(a.fillStyle="white",a.fillRect(0,0,o.width,o.height)),a.drawImage(e,0,0,o.width,o.height),o}function H(){return void 0!==H.cachedResult||(H.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"u">typeof document&&"ontouchend"in document),H.cachedResult}function Z(e,r={}){return new Promise(function(n,i){let o,a;var s=function(){try{return a=Q(o,r.fileType||e.type),n([o,a])}catch(e){return i(e)}},l=function(r){try{var n=function(e){try{throw e}catch(e){return i(e)}};try{let r;return L(e).then(function(e){try{return r=e,k(r).then(function(e){try{return o=e,function(){try{return s()}catch(e){return i(e)}}()}catch(e){return n(e)}},n)}catch(e){return n(e)}},n)}catch(e){n(e)}}catch(e){return i(e)}};try{if(H()||[z.DESKTOP_SAFARI,z.MOBILE_SAFARI].includes(j()))throw Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(e){try{return o=e,s()}catch(e){return l()}},l)}catch(e){l()}})}function G(e,r,n,i,o=1){return new Promise(function(a,s){let l;if("image/png"===r){let a,s;return a=e.getContext("2d"),{data:s}=a.getImageData(0,0,e.width,e.height),(l=new Blob([U.encode([s.buffer],e.width,e.height,4096*o)],{type:r})).name=n,l.lastModified=i,h.call(this)}if("image/bmp"===r)return new Promise(r=>M.toBlob(e,r)).then((function(e){try{return(l=e).name=n,l.lastModified=i,f.call(this)}catch(e){return s(e)}}).bind(this),s);if("function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return e.convertToBlob({type:r,quality:o}).then((function(e){try{return(l=e).name=n,l.lastModified=i,c.call(this)}catch(e){return s(e)}}).bind(this),s);return O(e.toDataURL(r,o),n,i).then((function(e){try{return l=e,c.call(this)}catch(e){return s(e)}}).bind(this),s);function c(){return f.call(this)}function f(){return h.call(this)}function h(){return a(l)}})}function q(e){e.width=0,e.height=0}function K(){return new Promise(function(e,r){let n,i,o,a;return void 0!==K.cachedResult?e(K.cachedResult):O("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return n=s,Z(n).then(function(s){try{return i=s[1],G(i,n.type,n.name,n.lastModified).then(function(n){try{return o=n,q(i),Z(o).then(function(n){try{return a=n[0],K.cachedResult=1===a.width&&2===a.height,e(K.cachedResult)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)})}function X(e){return new Promise((r,n)=>{let i=new B;i.onload=e=>{let n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return r(-2);let i=n.byteLength,o=2;for(;o<i&&!(8>=n.getUint16(o+2,!1));){let e=n.getUint16(o,!1);if(o+=2,65505==e){if(0x45786966!=n.getUint32(o+=2,!1))return r(-1);let e=18761==n.getUint16(o+=6,!1);o+=n.getUint32(o+4,e);let i=n.getUint16(o,e);o+=2;for(let a=0;a<i;a++)if(274==n.getUint16(o+12*a,e))return r(n.getUint16(o+12*a+8,e))}else{if(65280!=(65280&e))break;o+=n.getUint16(o,!1)}}return r(-1)},i.onerror=e=>n(e),i.readAsArrayBuffer(e)})}function V(e,r){let{width:n}=e,{height:i}=e,{maxWidthOrHeight:o}=r,a,s=e;return isFinite(o)&&(n>o||i>o)&&([s,a]=W(n,i),n>i?(s.width=o,s.height=i/n*o):(s.width=n/i*o,s.height=o),a.drawImage(e,0,0,s.width,s.height),q(e)),s}function Y(e,r){let{width:n}=e,{height:i}=e,[o,a]=W(n,i);switch(r>4&&r<9?(o.width=i,o.height=n):(o.width=n,o.height=i),r){case 2:a.transform(-1,0,0,1,n,0);break;case 3:a.transform(-1,0,0,-1,n,i);break;case 4:a.transform(1,0,0,-1,0,i);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,i,0);break;case 7:a.transform(0,-1,-1,0,i,n);break;case 8:a.transform(0,-1,1,0,0,n)}return a.drawImage(e,0,0,n,i),q(e),o}function J(e,r,n=0){return new Promise(function(i,o){let a,s,l,c,f,h,u,d,p,g,m,v,w,y,b,A,x,C,S,E;function R(e=5){if(r.signal&&r.signal.aborted)throw r.signal.reason;a+=e,r.onProgress(Math.min(a,100))}function F(e){if(r.signal&&r.signal.aborted)throw r.signal.reason;a=Math.min(Math.max(e,a),100),r.onProgress(a)}return a=n,s=r.maxIteration||10,l=1024*r.maxSizeMB*1024,R(),Z(e,r).then((function(n){try{return[,c]=n,R(),f=V(c,r),R(),new Promise(function(n,i){var o;if(!(o=r.exifOrientation))return X(e).then((function(e){try{return o=e,a.call(this)}catch(e){return i(e)}}).bind(this),i);function a(){return n(o)}return a.call(this)}).then((function(n){try{return h=n,R(),K().then((function(n){try{return u=n?f:Y(f,h),R(),d=r.initialQuality||1,p=r.fileType||e.type,G(u,p,e.name,e.lastModified,d).then((function(n){try{var a;if(g=n,R(),m=g.size>l,v=g.size>e.size,!m&&!v)return F(100),i(g);function h(){if(s--&&(b>l||b>w)){let r,n;return r=E?.95*S.width:S.width,n=E?.95*S.height:S.height,[x,C]=W(r,n),C.drawImage(S,0,0,r,n),d*="image/png"===p?.85:.95,G(x,p,e.name,e.lastModified,d).then(function(e){try{return A=e,q(S),S=x,b=A.size,F(Math.min(99,Math.floor((y-b)/(y-l)*100))),h}catch(e){return o(e)}},o)}return[1]}return w=e.size,b=y=g.size,S=u,E=!r.alwaysKeepResolution&&m,(a=(function(e){for(;e;){if(e.then)return void e.then(a,o);try{if(e.pop){if(e.length)return e.pop()?U.call(this):e;e=h}else e=e.call(this)}catch(e){return o(e)}}}).bind(this))(h);function U(){return q(S),q(x),q(f),q(u),q(c),F(100),i(A)}}catch(e){return o(e)}}).bind(this),o)}catch(e){return o(e)}}).bind(this),o)}catch(e){return o(e)}}).bind(this),o)}catch(e){return o(e)}}).bind(this),o)})}function $(e,n){return new Promise(function(i,o){let a,s,l,c,f,h;if(a={...n},l=0,{onProgress:c}=a,a.maxSizeMB=a.maxSizeMB||1/0,f="boolean"!=typeof a.useWebWorker||a.useWebWorker,delete a.useWebWorker,a.onProgress=e=>{l=e,"function"==typeof c&&c(l)},!(e instanceof Blob||e instanceof T))return o(Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return o(Error("The file given is not an image"));if(h="u">typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!f||"function"!=typeof Worker||h)return J(e,a).then((function(e){try{return s=e,p.call(this)}catch(e){return o(e)}}).bind(this),o);var u=(function(){try{return p.call(this)}catch(e){return o(e)}}).bind(this),d=function(r){try{return J(e,a).then(function(e){try{return s=e,u()}catch(e){return o(e)}},o)}catch(e){return o(e)}};try{return a.libURL=a.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",new Promise((n,i)=>{var o;let s;r||(s=[],"function"==typeof(o="\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n")?s.push(`(${o})()`):s.push(o),r=URL.createObjectURL(new Blob(s)));let l=new Worker(r);l.addEventListener("message",function(e){if(a.signal&&a.signal.aborted)l.terminate();else if(void 0===e.data.progress){if(e.data.error)return i(Error(e.data.error)),void l.terminate();n(e.data.file),l.terminate()}else a.onProgress(e.data.progress)}),l.addEventListener("error",i),a.signal&&a.signal.addEventListener("abort",()=>{i(a.signal.reason),l.terminate()}),l.postMessage({file:e,imageCompressionLibUrl:a.libURL,options:{...a,onProgress:void 0,signal:void 0}})}).then(function(e){try{return s=e,u()}catch(e){return d()}},d)}catch(e){d()}function p(){try{s.name=e.name,s.lastModified=e.lastModified}catch(e){}try{a.preserveExif&&"image/jpeg"===e.type&&(!a.fileType||a.fileType&&a.fileType===e.type)&&(s=S(e,s))}catch(e){}return i(s)}})}$.getDataUrlFromFile=L,$.getFilefromDataUrl=O,$.loadImage=k,$.drawImageInCanvas=Q,$.drawFileInCanvas=Z,$.canvasToFile=G,$.getExifOrientation=X,$.handleMaxWidthOrHeight=V,$.followExifOrientation=Y,$.cleanupCanvasMemory=q,$.isAutoOrientationInBrowser=K,$.approximateBelowMaximumCanvasSizeOfBrowser=N,$.copyExifWithoutOrientation=S,$.getBrowserName=j,$.version="2.0.2",e.s(["default",()=>$],13385)},43531,e=>{"use strict";let r=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>r],43531)},17276,e=>{"use strict";var r=e.i(43476),n=e.i(71645),i=e.i(36450),o=e.i(62696),a=e.i(13385),s=e.i(69074),l=e.i(37727),c=e.i(43531),f=e.i(75254);let h=(0,f.default)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),u=(0,f.default)("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var d=e.i(73708),p=e.i(74080);e.s(["default",0,({currentAvatar:e,onUpload:f})=>{let[g,m]=(0,n.useState)(null),[v,w]=(0,n.useState)({x:0,y:0}),[y,b]=(0,n.useState)(1),[A,x]=(0,n.useState)(null),[C,S]=(0,n.useState)(!1),[E,R]=(0,n.useState)(!1),F=(0,n.useCallback)((e,r)=>{x(r)},[]),U=async e=>{if(e.target.files&&e.target.files.length>0){let r=e.target.files[0];m(await M(r)),R(!0)}},M=e=>new Promise(r=>{let n=new FileReader;n.addEventListener("load",()=>r(n.result)),n.readAsDataURL(e)}),z=async()=>{if(g&&A){S(!0);try{let e=await (0,o.default)(g,A);if(!e)throw Error("Failed to crop image");let r=await (0,a.default)(e,{maxSizeMB:.5,maxWidthOrHeight:800,useWebWorker:!0,fileType:"image/jpeg"}),n=new FormData;n.append("file",r,"avatar.jpg");let i=await fetch("/api/upload",{method:"POST",body:n});if(!i.ok)throw Error("Upload failed");let s=await i.json();f(s.url),R(!1),m(null)}catch(e){console.error("Upload error:",e),alert("Failed to upload image")}finally{S(!1)}}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"relative group/upload",children:(0,r.jsxs)("label",{className:"cursor-pointer",children:[(0,r.jsx)("input",{type:"file",onChange:U,accept:"image/*",className:"hidden"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 bg-blue-50 hover:bg-blue-100 text-blue-600 px-3 py-1.5 rounded-lg text-xs font-semibold transition-colors border border-blue-200 shadow-sm",children:[(0,r.jsx)(s.Upload,{size:14})," Upload New"]})]})}),E&&g&&"u">typeof document&&(0,p.createPortal)((0,r.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"bg-white rounded-3xl overflow-hidden shadow-2xl w-full max-w-md animate-in zoom-in-95 duration-200",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[(0,r.jsxs)("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[(0,r.jsx)(d.Image,{size:18,className:"text-blue-500"})," Adjust Profile Picture"]}),(0,r.jsx)("button",{onClick:()=>R(!1),className:"text-slate-400 hover:text-slate-600 transition-colors",children:(0,r.jsx)(l.X,{size:20})})]}),(0,r.jsx)("div",{className:"relative h-80 w-full bg-slate-900",children:(0,r.jsx)(i.default,{image:g,crop:v,zoom:y,aspect:1,cropShape:"round",showGrid:!1,onCropChange:w,onCropComplete:F,onZoomChange:b})}),(0,r.jsxs)("div",{className:"px-6 py-4 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(u,{size:16,className:"text-slate-400"}),(0,r.jsx)("input",{type:"range",value:y,min:1,max:3,step:.1,"aria-labelledby":"Zoom",onChange:e=>b(Number(e.target.value)),className:"w-full h-1.5 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"}),(0,r.jsx)(h,{size:16,className:"text-slate-400"})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>R(!1),className:"flex-1 px-4 py-2.5 rounded-xl border border-slate-200 text-slate-600 font-semibold hover:bg-slate-50 transition-colors",children:"Cancel"}),(0,r.jsx)("button",{onClick:z,disabled:C,className:"flex-1 px-4 py-2.5 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/25 flex items-center justify-center gap-2 disabled:opacity-75 disabled:cursor-not-allowed",children:C?(0,r.jsx)(r.Fragment,{children:"Uploading..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Check,{size:18})," Save Photo"]})})]})]})]})}),document.body)]})}],17276)}]);