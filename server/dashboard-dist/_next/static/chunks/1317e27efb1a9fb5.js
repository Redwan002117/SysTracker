(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},98919,e=>{"use strict";let t=(0,e.i(75254).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>t],98919)},88653,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(71645),s=e.i(31178),n=e.i(47414),i=e.i(74008),a=e.i(21476),l=e.i(72846),o=r,c=e.i(37806);function u(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class d extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){let e=t.offsetParent,r=(0,l.isHTMLElement)(e)&&e.offsetWidth||0,s=(0,l.isHTMLElement)(e)&&e.offsetHeight||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=r-n.width-n.left,n.bottom=s-n.height-n.top}return null}componentDidUpdate(){}render(){return this.props.children}}function h({children:e,isPresent:s,anchorX:n,anchorY:i,root:a,pop:l}){let h=(0,o.useId)(),f=(0,o.useRef)(null),p=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=(0,o.useContext)(c.MotionConfigContext),x=function(...e){return r.useCallback(function(...e){return t=>{let r=!1,s=e.map(e=>{let s=u(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():u(e[t],null)}}}}(...e),e)}(f,e.props?.ref??e?.ref);return(0,o.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:o,right:c,bottom:u}=p.current;if(s||!1===l||!f.current||!e||!t)return;let d="left"===n?`left: ${o}`:`right: ${c}`,x="bottom"===i?`bottom: ${u}`:`top: ${r}`;f.current.dataset.motionPopId=h;let g=document.createElement("style");m&&(g.nonce=m);let y=a??document.head;return y.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${h}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${d}px !important;
            ${x}px !important;
          }
        `),()=>{y.contains(g)&&y.removeChild(g)}},[s]),(0,t.jsx)(d,{isPresent:s,childRef:f,sizeRef:p,pop:l,children:!1===l?e:o.cloneElement(e,{ref:x})})}let f=({children:e,initial:s,isPresent:i,onExitComplete:l,custom:o,presenceAffectsLayout:c,mode:u,anchorX:d,anchorY:f,root:m})=>{let x=(0,n.useConstant)(p),g=(0,r.useId)(),y=!0,b=(0,r.useMemo)(()=>(y=!1,{id:g,initial:s,isPresent:i,custom:o,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;l&&l()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[i,x,l]);return c&&y&&(b={...b}),(0,r.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[i]),r.useEffect(()=>{i||x.size||!l||l()},[i]),e=(0,t.jsx)(h,{pop:"popLayout"===u,isPresent:i,anchorX:d,anchorY:f,root:m,children:e}),(0,t.jsx)(a.PresenceContext.Provider,{value:b,children:e})};function p(){return new Map}var m=e.i(64978);let x=e=>e.key||"";function g(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let y=({children:e,custom:a,initial:l=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:u="sync",propagate:d=!1,anchorX:h="left",anchorY:p="top",root:y})=>{let[b,j]=(0,m.usePresence)(d),w=(0,r.useMemo)(()=>g(e),[e]),v=d&&!b?[]:w.map(x),k=(0,r.useRef)(!0),C=(0,r.useRef)(w),N=(0,n.useConstant)(()=>new Map),S=(0,r.useRef)(new Set),[z,A]=(0,r.useState)(w),[T,E]=(0,r.useState)(w);(0,i.useIsomorphicLayoutEffect)(()=>{k.current=!1,C.current=w;for(let e=0;e<T.length;e++){let t=x(T[e]);v.includes(t)?(N.delete(t),S.current.delete(t)):!0!==N.get(t)&&N.set(t,!1)}},[T,v.length,v.join("-")]);let $=[];if(w!==z){let e=[...w];for(let t=0;t<T.length;t++){let r=T[t],s=x(r);v.includes(s)||(e.splice(t,0,r),$.push(r))}return"wait"===u&&$.length&&(e=$),E(g(e)),A(w),null}let{forceRender:P}=(0,r.useContext)(s.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:T.map(e=>{let r=x(e),s=(!d||!!b)&&(w===T||v.includes(r));return(0,t.jsx)(f,{isPresent:s,initial:(!k.current||!!l)&&void 0,custom:a,presenceAffectsLayout:c,mode:u,root:y,onExitComplete:s?void 0:()=>{if(S.current.has(r)||(S.current.add(r),!N.has(r)))return;N.set(r,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(P?.(),E(C.current),d&&j?.(),o&&o())},anchorX:h,anchorY:p,children:e},r)})})};e.s(["AnimatePresence",()=>y],88653)},75254,e=>{"use strict";var t=e.i(71645);let r=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:o,iconNode:c,...u},d)=>(0,t.createElement)("svg",{ref:d,...n,width:s,height:s,stroke:e,strokeWidth:a?24*Number(i)/Number(s):i,className:r("lucide",l),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(u)&&{"aria-hidden":"true"},...u},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(o)?o:[o]])),a=(e,n)=>{let a=(0,t.forwardRef)(({className:a,...l},o)=>(0,t.createElement)(i,{ref:o,iconNode:n,className:r(`lucide-${s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,a),...l}));return a.displayName=s(e),a};e.s(["default",()=>a],75254)},18566,(e,t,r)=>{t.exports=e.r(76562)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},84614,e=>{"use strict";let t=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},39312,e=>{"use strict";let t=(0,e.i(75254).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>t],39312)},38036,e=>{"use strict";let t="systracker_token",r="systracker_username";function s(){return localStorage.getItem(t)}function n(e,s){localStorage.setItem(t,e),localStorage.setItem(r,s)}function i(){localStorage.removeItem(t),localStorage.removeItem(r)}function a(){return localStorage.getItem(r)}function l(){let e=s();return!!e&&!function(e){try{let t=JSON.parse(atob(e.split(".")[1]));return 1e3*t.exp<Date.now()}catch{return!0}}(e)}async function o(e,t={}){let r=s();return fetch(e,{...t,headers:{"Content-Type":"application/json",...t.headers||{},...r?{Authorization:`Bearer ${r}`}:{}}})}e.s(["clearToken",()=>i,"fetchWithAuth",()=>o,"getToken",()=>s,"getUsername",()=>a,"isAuthenticated",()=>l,"setToken",()=>n])},62319,60681,e=>{"use strict";var t=e.i(43476),r=e.i(22016),s=e.i(18566),n=e.i(39312);let i=(0,e.i(75254).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var a=e.i(84614),l=e.i(46932),o=e.i(38036),c=e.i(71645);e.s(["default",0,()=>{let e=(0,s.usePathname)(),u=(0,s.useRouter)(),[d,h]=(0,c.useState)(!1),[f,p]=(0,c.useState)(null);(0,c.useEffect)(()=>{h((0,o.isAuthenticated)()),p((0,o.getUsername)())},[e]);let m=async()=>{let e=localStorage.getItem("systracker_token");e&&fetch("/api/auth/logout",{method:"POST",headers:{Authorization:`Bearer ${e}`}}).catch(()=>{}),(0,o.clearToken)(),u.push("/login")},x="/dashboard"===e;return(0,t.jsx)(l.motion.nav,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-md border-b border-slate-200/50 supports-[backdrop-filter]:bg-white/60",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,t.jsxs)(r.default,{href:"/",className:"flex items-center gap-2 group",children:[(0,t.jsx)("div",{className:"bg-blue-600 text-white p-1.5 rounded-lg shadow-lg shadow-blue-500/30 group-hover:shadow-blue-500/50 transition-all duration-300",children:(0,t.jsx)(n.Zap,{size:20,fill:"currentColor",className:"group-hover:scale-110 transition-transform"})}),(0,t.jsxs)("span",{className:"font-bold text-xl tracking-tight text-slate-900",children:["Sys",(0,t.jsx)("span",{className:"text-blue-600",children:"Tracker"})]})]}),(0,t.jsxs)("div",{className:"hidden md:flex items-center gap-8",children:[(0,t.jsx)(r.default,{href:"/dashboard",className:`text-sm font-medium transition-colors hover:text-blue-600 ${"/dashboard"===e?"text-blue-600":"text-slate-600"}`,children:"Dashboard"}),(0,t.jsx)(r.default,{href:"/dashboard/settings",className:`text-sm font-medium transition-colors hover:text-blue-600 ${"/dashboard/settings"===e?"text-blue-600":"text-slate-600"}`,children:"Settings"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[x&&d&&(0,t.jsxs)(t.Fragment,{children:[f&&(0,t.jsxs)(r.default,{href:"/dashboard/profile",className:"hidden sm:flex items-center gap-1.5 text-sm text-slate-500 hover:text-blue-600 transition-colors",children:[(0,t.jsx)(a.User,{size:14}),(0,t.jsx)("span",{className:"font-medium",children:f})]}),(0,t.jsxs)("button",{onClick:m,className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-slate-600 hover:text-red-600 hover:bg-red-50 transition-all cursor-pointer",title:"Sign out",children:[(0,t.jsx)(i,{size:16}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Sign out"})]})]}),!x&&!d&&"/login"!==e&&(0,t.jsx)(r.default,{href:"/login",children:(0,t.jsxs)("button",{className:"bg-slate-900 hover:bg-slate-800 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)(a.User,{size:16}),"Log In"]})})]})]})})})}],62319);var u=e.i(31278);function d({children:e}){let r=(0,s.useRouter)(),[i,a]=(0,c.useState)("checking");return((0,c.useEffect)(()=>{!async function(){let e=async(e,t={})=>{let r=new AbortController,s=setTimeout(()=>r.abort(),5e3);try{let n=await fetch(e,{...t,signal:r.signal});return clearTimeout(s),n}catch(e){throw clearTimeout(s),e}};if(!(0,o.isAuthenticated)()){try{let t=await e("/api/auth/status");(await t.json()).setup_required?r.replace("/setup"):r.replace("/login")}catch{r.replace("/login")}a("redirect");return}try{let t=(0,o.getToken)();(await e("/api/auth/me",{headers:{Authorization:`Bearer ${t}`}})).ok?a("authenticated"):((0,o.clearToken)(),r.replace("/login"),a("redirect"))}catch{console.warn("Auth check failed (network), assuming offline authenticated"),a("authenticated")}}()},[r]),"checking"===i)?(0,t.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"bg-blue-600 text-white p-3 rounded-2xl shadow-xl",children:(0,t.jsx)(n.Zap,{size:28,fill:"currentColor"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-500",children:[(0,t.jsx)(u.Loader2,{size:18,className:"animate-spin"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Verifying session..."})]})]})}):"redirect"===i?null:(0,t.jsx)(t.Fragment,{children:e})}e.s(["default",()=>d],60681)},18393,e=>{"use strict";let t=(0,e.i(75254).default)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);e.s(["Server",()=>t],18393)}]);